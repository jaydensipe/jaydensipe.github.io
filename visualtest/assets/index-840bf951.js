(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function e(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=e(i);fetch(i.href,a)}})();function qt(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function pr(t,n){return t==null||n==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function na(t){let n,e,r;t.length!==2?(n=qt,e=(o,u)=>qt(t(o),u),r=(o,u)=>t(o)-u):(n=t===qt||t===pr?t:Co,e=t,r=t);function i(o,u,c=0,f=o.length){if(c<f){if(n(u,u)!==0)return f;do{const l=c+f>>>1;e(o[l],u)<0?c=l+1:f=l}while(c<f)}return c}function a(o,u,c=0,f=o.length){if(c<f){if(n(u,u)!==0)return f;do{const l=c+f>>>1;e(o[l],u)<=0?c=l+1:f=l}while(c<f)}return c}function s(o,u,c=0,f=o.length){const l=i(o,u,c,f-1);return l>c&&r(o[l-1],u)>-r(o[l],u)?l-1:l}return{left:i,center:s,right:a}}function Co(){return 0}function So(t){return t===null?NaN:+t}const Eo=na(qt),Do=Eo.right;na(So).center;const Oo=Do;class Be extends Map{constructor(n,e=Io){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const[r,i]of n)this.set(r,i)}get(n){return super.get(Zr(this,n))}has(n){return super.has(Zr(this,n))}set(n,e){return super.set(Ro(this,n),e)}delete(n){return super.delete(Po(this,n))}}function Zr({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function Ro({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function Po({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function Io(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Uo(t,n,...e){return Lo(t,Array.from,n,e)}function Lo(t,n,e,r){return function i(a,s){if(s>=r.length)return e(a);const o=new Be,u=r[s++];let c=-1;for(const f of a){const l=u(f,++c,a),h=o.get(l);h?h.push(f):o.set(l,[f])}for(const[f,l]of o)o.set(f,i(l,s));return n(o)}(t,0)}const Fo=Math.sqrt(50),jo=Math.sqrt(10),Bo=Math.sqrt(2);function Zn(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=Fo?10:a>=jo?5:a>=Bo?2:1;let o,u,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(t*c),u=Math.round(n*c),o/c<t&&++o,u/c>n&&--u,c=-c):(c=Math.pow(10,i)*s,o=Math.round(t/c),u=Math.round(n/c),o*c<t&&++o,u*c>n&&--u),u<o&&.5<=e&&e<2?Zn(t,n,e*2):[o,u,c]}function qo(t,n,e){if(n=+n,t=+t,e=+e,!(e>0))return[];if(t===n)return[t];const r=n<t,[i,a,s]=r?Zn(n,t,e):Zn(t,n,e);if(!(a>=i))return[];const o=a-i+1,u=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)u[c]=(a-c)/-s;else for(let c=0;c<o;++c)u[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)u[c]=(i+c)/-s;else for(let c=0;c<o;++c)u[c]=(i+c)*s;return u}function qe(t,n,e){return n=+n,t=+t,e=+e,Zn(t,n,e)[2]}function Ho(t,n,e){n=+n,t=+t,e=+e;const r=n<t,i=r?qe(n,t,e):qe(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}function yr(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e<i||e===void 0&&i>=i)&&(e=i)}return e}function Yo(t,n){let e=0,r=0;if(n===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++e,r+=i);else{let i=-1;for(let a of t)(a=n(a,++i,t))!=null&&(a=+a)>=a&&(++e,r+=a)}if(e)return r/e}function Wo(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=Math.max(0,Math.ceil((n-t)/e))|0,a=new Array(i);++r<i;)a[r]=t+r*e;return a}function Vo(t){return t}var ke=1,Ne=2,He=3,bn=4,Gr=1e-6;function zo(t){return"translate("+t+",0)"}function Xo(t){return"translate(0,"+t+")"}function Zo(t){return n=>+t(n)}function Go(t,n){return n=Math.max(0,t.bandwidth()-n*2)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function Qo(){return!this.__axis}function ea(t,n){var e=[],r=null,i=null,a=6,s=6,o=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=t===ke||t===bn?-1:1,f=t===bn||t===Ne?"x":"y",l=t===ke||t===He?zo:Xo;function h(d){var p=r??(n.ticks?n.ticks.apply(n,e):n.domain()),g=i??(n.tickFormat?n.tickFormat.apply(n,e):Vo),m=Math.max(a,0)+o,_=n.range(),M=+_[0]+u,b=+_[_.length-1]+u,y=(n.bandwidth?Go:Zo)(n.copy(),u),w=d.selection?d.selection():d,N=w.selectAll(".domain").data([null]),T=w.selectAll(".tick").data(p,n).order(),S=T.exit(),E=T.enter().append("g").attr("class","tick"),R=T.select("line"),A=T.select("text");N=N.merge(N.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),T=T.merge(E),R=R.merge(E.append("line").attr("stroke","currentColor").attr(f+"2",c*a)),A=A.merge(E.append("text").attr("fill","currentColor").attr(f,c*m).attr("dy",t===ke?"0em":t===He?"0.71em":"0.32em")),d!==w&&(N=N.transition(d),T=T.transition(d),R=R.transition(d),A=A.transition(d),S=S.transition(d).attr("opacity",Gr).attr("transform",function($){return isFinite($=y($))?l($+u):this.getAttribute("transform")}),E.attr("opacity",Gr).attr("transform",function($){var v=this.parentNode.__axis;return l((v&&isFinite(v=v($))?v:y($))+u)})),S.remove(),N.attr("d",t===bn||t===Ne?s?"M"+c*s+","+M+"H"+u+"V"+b+"H"+c*s:"M"+u+","+M+"V"+b:s?"M"+M+","+c*s+"V"+u+"H"+b+"V"+c*s:"M"+M+","+u+"H"+b),T.attr("opacity",1).attr("transform",function($){return l(y($)+u)}),R.attr(f+"2",c*a),A.attr(f,c*m).text(g),w.filter(Qo).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Ne?"start":t===bn?"end":"middle"),w.each(function(){this.__axis=y})}return h.scale=function(d){return arguments.length?(n=d,h):n},h.ticks=function(){return e=Array.from(arguments),h},h.tickArguments=function(d){return arguments.length?(e=d==null?[]:Array.from(d),h):e.slice()},h.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),h):r&&r.slice()},h.tickFormat=function(d){return arguments.length?(i=d,h):i},h.tickSize=function(d){return arguments.length?(a=s=+d,h):a},h.tickSizeInner=function(d){return arguments.length?(a=+d,h):a},h.tickSizeOuter=function(d){return arguments.length?(s=+d,h):s},h.tickPadding=function(d){return arguments.length?(o=+d,h):o},h.offset=function(d){return arguments.length?(u=+d,h):u},h}function ra(t){return ea(He,t)}function ia(t){return ea(bn,t)}var Jo={value:()=>{}};function aa(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new Hn(e)}function Hn(t){this._=t}function Ko(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}Hn.prototype=aa.prototype={constructor:Hn,on:function(t,n){var e=this._,r=Ko(t+"",e),i,a=-1,s=r.length;if(arguments.length<2){for(;++a<s;)if((i=(t=r[a]).type)&&(i=ts(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++a<s;)if(i=(t=r[a]).type)e[i]=Qr(e[i],t.name,n);else if(n==null)for(i in e)e[i]=Qr(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Hn(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,a;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(n,e)}};function ts(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function Qr(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Jo,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var Ye="http://www.w3.org/1999/xhtml";const Jr={svg:"http://www.w3.org/2000/svg",xhtml:Ye,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ye(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),Jr.hasOwnProperty(n)?{space:Jr[n],local:t}:t}function ns(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Ye&&n.documentElement.namespaceURI===Ye?n.createElement(t):n.createElementNS(e,t)}}function es(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function oa(t){var n=ye(t);return(n.local?es:ns)(n)}function rs(){}function gr(t){return t==null?rs:function(){return this.querySelector(t)}}function is(t){typeof t!="function"&&(t=gr(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],s=a.length,o=r[i]=new Array(s),u,c,f=0;f<s;++f)(u=a[f])&&(c=t.call(u,u.__data__,f,a))&&("__data__"in u&&(c.__data__=u.__data__),o[f]=c);return new Z(r,this._parents)}function sa(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function as(){return[]}function ua(t){return t==null?as:function(){return this.querySelectorAll(t)}}function os(t){return function(){return sa(t.apply(this,arguments))}}function ss(t){typeof t=="function"?t=os(t):t=ua(t);for(var n=this._groups,e=n.length,r=[],i=[],a=0;a<e;++a)for(var s=n[a],o=s.length,u,c=0;c<o;++c)(u=s[c])&&(r.push(t.call(u,u.__data__,c,s)),i.push(u));return new Z(r,i)}function ca(t){return function(){return this.matches(t)}}function fa(t){return function(n){return n.matches(t)}}var us=Array.prototype.find;function cs(t){return function(){return us.call(this.children,t)}}function fs(){return this.firstElementChild}function ls(t){return this.select(t==null?fs:cs(typeof t=="function"?t:fa(t)))}var hs=Array.prototype.filter;function ds(){return Array.from(this.children)}function ps(t){return function(){return hs.call(this.children,t)}}function ys(t){return this.selectAll(t==null?ds:ps(typeof t=="function"?t:fa(t)))}function gs(t){typeof t!="function"&&(t=ca(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],s=a.length,o=r[i]=[],u,c=0;c<s;++c)(u=a[c])&&t.call(u,u.__data__,c,a)&&o.push(u);return new Z(r,this._parents)}function la(t){return new Array(t.length)}function ms(){return new Z(this._enter||this._groups.map(la),this._parents)}function Gn(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}Gn.prototype={constructor:Gn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function _s(t){return function(){return t}}function vs(t,n,e,r,i,a){for(var s=0,o,u=n.length,c=a.length;s<c;++s)(o=n[s])?(o.__data__=a[s],r[s]=o):e[s]=new Gn(t,a[s]);for(;s<u;++s)(o=n[s])&&(i[s]=o)}function bs(t,n,e,r,i,a,s){var o,u,c=new Map,f=n.length,l=a.length,h=new Array(f),d;for(o=0;o<f;++o)(u=n[o])&&(h[o]=d=s.call(u,u.__data__,o,n)+"",c.has(d)?i[o]=u:c.set(d,u));for(o=0;o<l;++o)d=s.call(t,a[o],o,a)+"",(u=c.get(d))?(r[o]=u,u.__data__=a[o],c.delete(d)):e[o]=new Gn(t,a[o]);for(o=0;o<f;++o)(u=n[o])&&c.get(h[o])===u&&(i[o]=u)}function xs(t){return t.__data__}function ws(t,n){if(!arguments.length)return Array.from(this,xs);var e=n?bs:vs,r=this._parents,i=this._groups;typeof t!="function"&&(t=_s(t));for(var a=i.length,s=new Array(a),o=new Array(a),u=new Array(a),c=0;c<a;++c){var f=r[c],l=i[c],h=l.length,d=Ms(t.call(f,f&&f.__data__,c,r)),p=d.length,g=o[c]=new Array(p),m=s[c]=new Array(p),_=u[c]=new Array(h);e(f,l,g,m,_,d,n);for(var M=0,b=0,y,w;M<p;++M)if(y=g[M]){for(M>=b&&(b=M+1);!(w=m[b])&&++b<p;);y._next=w||null}}return s=new Z(s,r),s._enter=o,s._exit=u,s}function Ms(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function $s(){return new Z(this._exit||this._groups.map(la),this._parents)}function ks(t,n,e){var r=this.enter(),i=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?a.remove():e(a),r&&i?r.merge(i).order():i}function Ns(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,a=r.length,s=Math.min(i,a),o=new Array(i),u=0;u<s;++u)for(var c=e[u],f=r[u],l=c.length,h=o[u]=new Array(l),d,p=0;p<l;++p)(d=c[p]||f[p])&&(h[p]=d);for(;u<i;++u)o[u]=e[u];return new Z(o,this._parents)}function As(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,a=r[i],s;--i>=0;)(s=r[i])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function Ts(t){t||(t=Cs);function n(l,h){return l&&h?t(l.__data__,h.__data__):!l-!h}for(var e=this._groups,r=e.length,i=new Array(r),a=0;a<r;++a){for(var s=e[a],o=s.length,u=i[a]=new Array(o),c,f=0;f<o;++f)(c=s[f])&&(u[f]=c);u.sort(n)}return new Z(i,this._parents).order()}function Cs(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Ss(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Es(){return Array.from(this)}function Ds(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,a=r.length;i<a;++i){var s=r[i];if(s)return s}return null}function Os(){let t=0;for(const n of this)++t;return t}function Rs(){return!this.node()}function Ps(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],a=0,s=i.length,o;a<s;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this}function Is(t){return function(){this.removeAttribute(t)}}function Us(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ls(t,n){return function(){this.setAttribute(t,n)}}function Fs(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function js(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function Bs(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function qs(t,n){var e=ye(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?Us:Is:typeof n=="function"?e.local?Bs:js:e.local?Fs:Ls)(e,n))}function ha(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Hs(t){return function(){this.style.removeProperty(t)}}function Ys(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Ws(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function Vs(t,n,e){return arguments.length>1?this.each((n==null?Hs:typeof n=="function"?Ws:Ys)(t,n,e??"")):on(this.node(),t)}function on(t,n){return t.style.getPropertyValue(n)||ha(t).getComputedStyle(t,null).getPropertyValue(n)}function zs(t){return function(){delete this[t]}}function Xs(t,n){return function(){this[t]=n}}function Zs(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function Gs(t,n){return arguments.length>1?this.each((n==null?zs:typeof n=="function"?Zs:Xs)(t,n)):this.node()[t]}function da(t){return t.trim().split(/^|\s+/)}function mr(t){return t.classList||new pa(t)}function pa(t){this._node=t,this._names=da(t.getAttribute("class")||"")}pa.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function ya(t,n){for(var e=mr(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function ga(t,n){for(var e=mr(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Qs(t){return function(){ya(this,t)}}function Js(t){return function(){ga(this,t)}}function Ks(t,n){return function(){(n.apply(this,arguments)?ya:ga)(this,t)}}function tu(t,n){var e=da(t+"");if(arguments.length<2){for(var r=mr(this.node()),i=-1,a=e.length;++i<a;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?Ks:n?Qs:Js)(e,n))}function nu(){this.textContent=""}function eu(t){return function(){this.textContent=t}}function ru(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function iu(t){return arguments.length?this.each(t==null?nu:(typeof t=="function"?ru:eu)(t)):this.node().textContent}function au(){this.innerHTML=""}function ou(t){return function(){this.innerHTML=t}}function su(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function uu(t){return arguments.length?this.each(t==null?au:(typeof t=="function"?su:ou)(t)):this.node().innerHTML}function cu(){this.nextSibling&&this.parentNode.appendChild(this)}function fu(){return this.each(cu)}function lu(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function hu(){return this.each(lu)}function du(t){var n=typeof t=="function"?t:oa(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function pu(){return null}function yu(t,n){var e=typeof t=="function"?t:oa(t),r=n==null?pu:typeof n=="function"?n:gr(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function gu(){var t=this.parentNode;t&&t.removeChild(this)}function mu(){return this.each(gu)}function _u(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function vu(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function bu(t){return this.select(t?vu:_u)}function xu(t){return arguments.length?this.property("__data__",t):this.node().__data__}function wu(t){return function(n){t.call(this,n,this.__data__)}}function Mu(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function $u(t){return function(){var n=this.__on;if(n){for(var e=0,r=-1,i=n.length,a;e<i;++e)a=n[e],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):n[++r]=a;++r?n.length=r:delete this.__on}}}function ku(t,n,e){return function(){var r=this.__on,i,a=wu(n);if(r){for(var s=0,o=r.length;s<o;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=e),i.value=n;return}}this.addEventListener(t.type,a,e),i={type:t.type,name:t.name,value:n,listener:a,options:e},r?r.push(i):this.__on=[i]}}function Nu(t,n,e){var r=Mu(t+""),i,a=r.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var u=0,c=o.length,f;u<c;++u)for(i=0,f=o[u];i<a;++i)if((s=r[i]).type===f.type&&s.name===f.name)return f.value}return}for(o=n?ku:$u,i=0;i<a;++i)this.each(o(r[i],n,e));return this}function ma(t,n,e){var r=ha(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function Au(t,n){return function(){return ma(this,t,n)}}function Tu(t,n){return function(){return ma(this,t,n.apply(this,arguments))}}function Cu(t,n){return this.each((typeof n=="function"?Tu:Au)(t,n))}function*Su(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,a=r.length,s;i<a;++i)(s=r[i])&&(yield s)}var _r=[null];function Z(t,n){this._groups=t,this._parents=n}function Cn(){return new Z([[document.documentElement]],_r)}function Eu(){return this}Z.prototype=Cn.prototype={constructor:Z,select:is,selectAll:ss,selectChild:ls,selectChildren:ys,filter:gs,data:ws,enter:ms,exit:$s,join:ks,merge:Ns,selection:Eu,order:As,sort:Ts,call:Ss,nodes:Es,node:Ds,size:Os,empty:Rs,each:Ps,attr:qs,style:Vs,property:Gs,classed:tu,text:iu,html:uu,raise:fu,lower:hu,append:du,insert:yu,remove:mu,clone:bu,datum:xu,on:Nu,dispatch:Cu,[Symbol.iterator]:Su};function vr(t){return typeof t=="string"?new Z([[document.querySelector(t)]],[document.documentElement]):new Z([[t]],_r)}function br(t){return typeof t=="string"?new Z([document.querySelectorAll(t)],[document.documentElement]):new Z([sa(t)],_r)}function ge(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function xr(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function hn(){}var Wt=.7,sn=1/Wt,en="\\s*([+-]?\\d+)\\s*",$n="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Du=/^#([0-9a-f]{3,8})$/,Ou=new RegExp(`^rgb\\(${en},${en},${en}\\)$`),Ru=new RegExp(`^rgb\\(${yt},${yt},${yt}\\)$`),Pu=new RegExp(`^rgba\\(${en},${en},${en},${$n}\\)$`),Iu=new RegExp(`^rgba\\(${yt},${yt},${yt},${$n}\\)$`),Uu=new RegExp(`^hsl\\(${$n},${yt},${yt}\\)$`),Lu=new RegExp(`^hsla\\(${$n},${yt},${yt},${$n}\\)$`),Kr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ge(hn,Vt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ti,formatHex:ti,formatHex8:Fu,formatHsl:ju,formatRgb:ni,toString:ni});function ti(){return this.rgb().formatHex()}function Fu(){return this.rgb().formatHex8()}function ju(){return va(this).formatHsl()}function ni(){return this.rgb().formatRgb()}function Vt(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Du.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?ei(n):e===3?new V(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?En(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?En(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=Ou.exec(t))?new V(n[1],n[2],n[3],1):(n=Ru.exec(t))?new V(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=Pu.exec(t))?En(n[1],n[2],n[3],n[4]):(n=Iu.exec(t))?En(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=Uu.exec(t))?ai(n[1],n[2]/100,n[3]/100,1):(n=Lu.exec(t))?ai(n[1],n[2]/100,n[3]/100,n[4]):Kr.hasOwnProperty(t)?ei(Kr[t]):t==="transparent"?new V(NaN,NaN,NaN,0):null}function ei(t){return new V(t>>16&255,t>>8&255,t&255,1)}function En(t,n,e,r){return r<=0&&(t=n=e=NaN),new V(t,n,e,r)}function _a(t){return t instanceof hn||(t=Vt(t)),t?(t=t.rgb(),new V(t.r,t.g,t.b,t.opacity)):new V}function Qn(t,n,e,r){return arguments.length===1?_a(t):new V(t,n,e,r??1)}function V(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}ge(V,Qn,xr(hn,{brighter(t){return t=t==null?sn:Math.pow(sn,t),new V(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Wt:Math.pow(Wt,t),new V(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new V(Ht(this.r),Ht(this.g),Ht(this.b),Jn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ri,formatHex:ri,formatHex8:Bu,formatRgb:ii,toString:ii}));function ri(){return`#${Bt(this.r)}${Bt(this.g)}${Bt(this.b)}`}function Bu(){return`#${Bt(this.r)}${Bt(this.g)}${Bt(this.b)}${Bt((isNaN(this.opacity)?1:this.opacity)*255)}`}function ii(){const t=Jn(this.opacity);return`${t===1?"rgb(":"rgba("}${Ht(this.r)}, ${Ht(this.g)}, ${Ht(this.b)}${t===1?")":`, ${t})`}`}function Jn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ht(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Bt(t){return t=Ht(t),(t<16?"0":"")+t.toString(16)}function ai(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new ft(t,n,e,r)}function va(t){if(t instanceof ft)return new ft(t.h,t.s,t.l,t.opacity);if(t instanceof hn||(t=Vt(t)),!t)return new ft;if(t instanceof ft)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),a=Math.max(n,e,r),s=NaN,o=a-i,u=(a+i)/2;return o?(n===a?s=(e-r)/o+(e<r)*6:e===a?s=(r-n)/o+2:s=(n-e)/o+4,o/=u<.5?a+i:2-a-i,s*=60):o=u>0&&u<1?0:s,new ft(s,o,u,t.opacity)}function qu(t,n,e,r){return arguments.length===1?va(t):new ft(t,n,e,r??1)}function ft(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}ge(ft,qu,xr(hn,{brighter(t){return t=t==null?sn:Math.pow(sn,t),new ft(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Wt:Math.pow(Wt,t),new ft(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new V(Ae(t>=240?t-240:t+120,i,r),Ae(t,i,r),Ae(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ft(oi(this.h),Dn(this.s),Dn(this.l),Jn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Jn(this.opacity);return`${t===1?"hsl(":"hsla("}${oi(this.h)}, ${Dn(this.s)*100}%, ${Dn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function oi(t){return t=(t||0)%360,t<0?t+360:t}function Dn(t){return Math.max(0,Math.min(1,t||0))}function Ae(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}const Hu=Math.PI/180,Yu=180/Math.PI;var ba=-.14861,wr=1.78277,Mr=-.29227,me=-.90649,kn=1.97294,si=kn*me,ui=kn*wr,ci=wr*Mr-me*ba;function Wu(t){if(t instanceof Yt)return new Yt(t.h,t.s,t.l,t.opacity);t instanceof V||(t=_a(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(ci*r+si*n-ui*e)/(ci+si-ui),a=r-i,s=(kn*(e-i)-Mr*a)/me,o=Math.sqrt(s*s+a*a)/(kn*i*(1-i)),u=o?Math.atan2(s,a)*Yu-120:NaN;return new Yt(u<0?u+360:u,o,i,t.opacity)}function Dt(t,n,e,r){return arguments.length===1?Wu(t):new Yt(t,n,e,r??1)}function Yt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}ge(Yt,Dt,xr(hn,{brighter(t){return t=t==null?sn:Math.pow(sn,t),new Yt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Wt:Math.pow(Wt,t),new Yt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*Hu,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new V(255*(n+e*(ba*r+wr*i)),255*(n+e*(Mr*r+me*i)),255*(n+e*(kn*r)),this.opacity)}}));function Vu(t,n,e,r,i){var a=t*t,s=a*t;return((1-3*t+3*a-s)*n+(4-6*a+3*s)*e+(1+3*t+3*a-3*s)*r+s*i)/6}function zu(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],a=t[r+1],s=r>0?t[r-1]:2*i-a,o=r<n-1?t[r+2]:2*a-i;return Vu((e-r/n)*n,s,i,a,o)}}const _e=t=>()=>t;function xa(t,n){return function(e){return t+e*n}}function Xu(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function Zu(t,n){var e=n-t;return e?xa(t,e>180||e<-180?e-360*Math.round(e/360):e):_e(isNaN(t)?n:t)}function Gu(t){return(t=+t)==1?rn:function(n,e){return e-n?Xu(n,e,t):_e(isNaN(n)?e:n)}}function rn(t,n){var e=n-t;return e?xa(t,e):_e(isNaN(t)?n:t)}const Kn=function t(n){var e=Gu(n);function r(i,a){var s=e((i=Qn(i)).r,(a=Qn(a)).r),o=e(i.g,a.g),u=e(i.b,a.b),c=rn(i.opacity,a.opacity);return function(f){return i.r=s(f),i.g=o(f),i.b=u(f),i.opacity=c(f),i+""}}return r.gamma=t,r}(1);function Qu(t){return function(n){var e=n.length,r=new Array(e),i=new Array(e),a=new Array(e),s,o;for(s=0;s<e;++s)o=Qn(n[s]),r[s]=o.r||0,i[s]=o.g||0,a[s]=o.b||0;return r=t(r),i=t(i),a=t(a),o.opacity=1,function(u){return o.r=r(u),o.g=i(u),o.b=a(u),o+""}}}var Ju=Qu(zu);function Ku(t,n){n||(n=[]);var e=t?Math.min(n.length,t.length):0,r=n.slice(),i;return function(a){for(i=0;i<e;++i)r[i]=t[i]*(1-a)+n[i]*a;return r}}function tc(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function nc(t,n){var e=n?n.length:0,r=t?Math.min(e,t.length):0,i=new Array(r),a=new Array(e),s;for(s=0;s<r;++s)i[s]=Sn(t[s],n[s]);for(;s<e;++s)a[s]=n[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function ec(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function ct(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function rc(t,n){var e={},r={},i;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in t?e[i]=Sn(t[i],n[i]):r[i]=n[i];return function(a){for(i in e)r[i]=e[i](a);return r}}var We=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Te=new RegExp(We.source,"g");function ic(t){return function(){return t}}function ac(t){return function(n){return t(n)+""}}function wa(t,n){var e=We.lastIndex=Te.lastIndex=0,r,i,a,s=-1,o=[],u=[];for(t=t+"",n=n+"";(r=We.exec(t))&&(i=Te.exec(n));)(a=i.index)>e&&(a=n.slice(e,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,u.push({i:s,x:ct(r,i)})),e=Te.lastIndex;return e<n.length&&(a=n.slice(e),o[s]?o[s]+=a:o[++s]=a),o.length<2?u[0]?ac(u[0].x):ic(n):(n=u.length,function(c){for(var f=0,l;f<n;++f)o[(l=u[f]).i]=l.x(c);return o.join("")})}function Sn(t,n){var e=typeof n,r;return n==null||e==="boolean"?_e(n):(e==="number"?ct:e==="string"?(r=Vt(n))?(n=r,Kn):wa:n instanceof Vt?Kn:n instanceof Date?ec:tc(n)?Ku:Array.isArray(n)?nc:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?rc:ct)(t,n)}function Ma(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var fi=180/Math.PI,Ve={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function $a(t,n,e,r,i,a){var s,o,u;return(s=Math.sqrt(t*t+n*n))&&(t/=s,n/=s),(u=t*e+n*r)&&(e-=t*u,r-=n*u),(o=Math.sqrt(e*e+r*r))&&(e/=o,r/=o,u/=o),t*r<n*e&&(t=-t,n=-n,u=-u,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(n,t)*fi,skewX:Math.atan(u)*fi,scaleX:s,scaleY:o}}var On;function oc(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?Ve:$a(n.a,n.b,n.c,n.d,n.e,n.f)}function sc(t){return t==null||(On||(On=document.createElementNS("http://www.w3.org/2000/svg","g")),On.setAttribute("transform",t),!(t=On.transform.baseVal.consolidate()))?Ve:(t=t.matrix,$a(t.a,t.b,t.c,t.d,t.e,t.f))}function ka(t,n,e,r){function i(c){return c.length?c.pop()+" ":""}function a(c,f,l,h,d,p){if(c!==l||f!==h){var g=d.push("translate(",null,n,null,e);p.push({i:g-4,x:ct(c,l)},{i:g-2,x:ct(f,h)})}else(l||h)&&d.push("translate("+l+n+h+e)}function s(c,f,l,h){c!==f?(c-f>180?f+=360:f-c>180&&(c+=360),h.push({i:l.push(i(l)+"rotate(",null,r)-2,x:ct(c,f)})):f&&l.push(i(l)+"rotate("+f+r)}function o(c,f,l,h){c!==f?h.push({i:l.push(i(l)+"skewX(",null,r)-2,x:ct(c,f)}):f&&l.push(i(l)+"skewX("+f+r)}function u(c,f,l,h,d,p){if(c!==l||f!==h){var g=d.push(i(d)+"scale(",null,",",null,")");p.push({i:g-4,x:ct(c,l)},{i:g-2,x:ct(f,h)})}else(l!==1||h!==1)&&d.push(i(d)+"scale("+l+","+h+")")}return function(c,f){var l=[],h=[];return c=t(c),f=t(f),a(c.translateX,c.translateY,f.translateX,f.translateY,l,h),s(c.rotate,f.rotate,l,h),o(c.skewX,f.skewX,l,h),u(c.scaleX,c.scaleY,f.scaleX,f.scaleY,l,h),c=f=null,function(d){for(var p=-1,g=h.length,m;++p<g;)l[(m=h[p]).i]=m.x(d);return l.join("")}}}var uc=ka(oc,"px, ","px)","deg)"),cc=ka(sc,", ",")",")");function Na(t){return function n(e){e=+e;function r(i,a){var s=t((i=Dt(i)).h,(a=Dt(a)).h),o=rn(i.s,a.s),u=rn(i.l,a.l),c=rn(i.opacity,a.opacity);return function(f){return i.h=s(f),i.s=o(f),i.l=u(Math.pow(f,e)),i.opacity=c(f),i+""}}return r.gamma=n,r}(1)}Na(Zu);var Aa=Na(rn),un=0,xn=0,yn=0,Ta=1e3,te,wn,ne=0,zt=0,ve=0,Nn=typeof performance=="object"&&performance.now?performance:Date,Ca=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function $r(){return zt||(Ca(fc),zt=Nn.now()+ve)}function fc(){zt=0}function ee(){this._call=this._time=this._next=null}ee.prototype=Sa.prototype={constructor:ee,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?$r():+e)+(n==null?0:+n),!this._next&&wn!==this&&(wn?wn._next=this:te=this,wn=this),this._call=t,this._time=e,ze()},stop:function(){this._call&&(this._call=null,this._time=1/0,ze())}};function Sa(t,n,e){var r=new ee;return r.restart(t,n,e),r}function lc(){$r(),++un;for(var t=te,n;t;)(n=zt-t._time)>=0&&t._call.call(void 0,n),t=t._next;--un}function li(){zt=(ne=Nn.now())+ve,un=xn=0;try{lc()}finally{un=0,dc(),zt=0}}function hc(){var t=Nn.now(),n=t-ne;n>Ta&&(ve-=n,ne=t)}function dc(){for(var t,n=te,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:te=e);wn=t,ze(r)}function ze(t){if(!un){xn&&(xn=clearTimeout(xn));var n=t-zt;n>24?(t<1/0&&(xn=setTimeout(li,t-Nn.now()-ve)),yn&&(yn=clearInterval(yn))):(yn||(ne=Nn.now(),yn=setInterval(hc,Ta)),un=1,Ca(li))}}function hi(t,n,e){var r=new ee;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}var pc=aa("start","end","cancel","interrupt"),yc=[],Ea=0,di=1,Xe=2,Yn=3,pi=4,Ze=5,Wn=6;function be(t,n,e,r,i,a){var s=t.__transition;if(!s)t.__transition={};else if(e in s)return;gc(t,e,{name:n,index:r,group:i,on:pc,tween:yc,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Ea})}function kr(t,n){var e=lt(t,n);if(e.state>Ea)throw new Error("too late; already scheduled");return e}function mt(t,n){var e=lt(t,n);if(e.state>Yn)throw new Error("too late; already running");return e}function lt(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function gc(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=Sa(a,0,e.time);function a(c){e.state=di,e.timer.restart(s,e.delay,e.time),e.delay<=c&&s(c-e.delay)}function s(c){var f,l,h,d;if(e.state!==di)return u();for(f in r)if(d=r[f],d.name===e.name){if(d.state===Yn)return hi(s);d.state===pi?(d.state=Wn,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[f]):+f<n&&(d.state=Wn,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[f])}if(hi(function(){e.state===Yn&&(e.state=pi,e.timer.restart(o,e.delay,e.time),o(c))}),e.state=Xe,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Xe){for(e.state=Yn,i=new Array(h=e.tween.length),f=0,l=-1;f<h;++f)(d=e.tween[f].value.call(t,t.__data__,e.index,e.group))&&(i[++l]=d);i.length=l+1}}function o(c){for(var f=c<e.duration?e.ease.call(null,c/e.duration):(e.timer.restart(u),e.state=Ze,1),l=-1,h=i.length;++l<h;)i[l].call(t,f);e.state===Ze&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){e.state=Wn,e.timer.stop(),delete r[n];for(var c in r)return;delete t.__transition}}function mc(t,n){var e=t.__transition,r,i,a=!0,s;if(e){n=n==null?null:n+"";for(s in e){if((r=e[s]).name!==n){a=!1;continue}i=r.state>Xe&&r.state<Ze,r.state=Wn,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[s]}a&&delete t.__transition}}function _c(t){return this.each(function(){mc(this,t)})}function vc(t,n){var e,r;return function(){var i=mt(this,t),a=i.tween;if(a!==e){r=e=a;for(var s=0,o=r.length;s<o;++s)if(r[s].name===n){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function bc(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var a=mt(this,t),s=a.tween;if(s!==r){i=(r=s).slice();for(var o={name:n,value:e},u=0,c=i.length;u<c;++u)if(i[u].name===n){i[u]=o;break}u===c&&i.push(o)}a.tween=i}}function xc(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=lt(this.node(),e).tween,i=0,a=r.length,s;i<a;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((n==null?vc:bc)(e,t,n))}function Nr(t,n,e){var r=t._id;return t.each(function(){var i=mt(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return lt(i,r).value[n]}}function Da(t,n){var e;return(typeof n=="number"?ct:n instanceof Vt?Kn:(e=Vt(n))?(n=e,Kn):wa)(t,n)}function wc(t){return function(){this.removeAttribute(t)}}function Mc(t){return function(){this.removeAttributeNS(t.space,t.local)}}function $c(t,n,e){var r,i=e+"",a;return function(){var s=this.getAttribute(t);return s===i?null:s===r?a:a=n(r=s,e)}}function kc(t,n,e){var r,i=e+"",a;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?a:a=n(r=s,e)}}function Nc(t,n,e){var r,i,a;return function(){var s,o=e(this),u;return o==null?void this.removeAttribute(t):(s=this.getAttribute(t),u=o+"",s===u?null:s===r&&u===i?a:(i=u,a=n(r=s,o)))}}function Ac(t,n,e){var r,i,a;return function(){var s,o=e(this),u;return o==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),u=o+"",s===u?null:s===r&&u===i?a:(i=u,a=n(r=s,o)))}}function Tc(t,n){var e=ye(t),r=e==="transform"?cc:Da;return this.attrTween(t,typeof n=="function"?(e.local?Ac:Nc)(e,r,Nr(this,"attr."+t,n)):n==null?(e.local?Mc:wc)(e):(e.local?kc:$c)(e,r,n))}function Cc(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function Sc(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function Ec(t,n){var e,r;function i(){var a=n.apply(this,arguments);return a!==r&&(e=(r=a)&&Sc(t,a)),e}return i._value=n,i}function Dc(t,n){var e,r;function i(){var a=n.apply(this,arguments);return a!==r&&(e=(r=a)&&Cc(t,a)),e}return i._value=n,i}function Oc(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=ye(t);return this.tween(e,(r.local?Ec:Dc)(r,n))}function Rc(t,n){return function(){kr(this,t).delay=+n.apply(this,arguments)}}function Pc(t,n){return n=+n,function(){kr(this,t).delay=n}}function Ic(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?Rc:Pc)(n,t)):lt(this.node(),n).delay}function Uc(t,n){return function(){mt(this,t).duration=+n.apply(this,arguments)}}function Lc(t,n){return n=+n,function(){mt(this,t).duration=n}}function Fc(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?Uc:Lc)(n,t)):lt(this.node(),n).duration}function jc(t,n){if(typeof n!="function")throw new Error;return function(){mt(this,t).ease=n}}function Bc(t){var n=this._id;return arguments.length?this.each(jc(n,t)):lt(this.node(),n).ease}function qc(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;mt(this,t).ease=e}}function Hc(t){if(typeof t!="function")throw new Error;return this.each(qc(this._id,t))}function Yc(t){typeof t!="function"&&(t=ca(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],s=a.length,o=r[i]=[],u,c=0;c<s;++c)(u=a[c])&&t.call(u,u.__data__,c,a)&&o.push(u);return new Tt(r,this._parents,this._name,this._id)}function Wc(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,a=Math.min(r,i),s=new Array(r),o=0;o<a;++o)for(var u=n[o],c=e[o],f=u.length,l=s[o]=new Array(f),h,d=0;d<f;++d)(h=u[d]||c[d])&&(l[d]=h);for(;o<r;++o)s[o]=n[o];return new Tt(s,this._parents,this._name,this._id)}function Vc(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function zc(t,n,e){var r,i,a=Vc(n)?kr:mt;return function(){var s=a(this,t),o=s.on;o!==r&&(i=(r=o).copy()).on(n,e),s.on=i}}function Xc(t,n){var e=this._id;return arguments.length<2?lt(this.node(),e).on.on(t):this.each(zc(e,t,n))}function Zc(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function Gc(){return this.on("end.remove",Zc(this._id))}function Qc(t){var n=this._name,e=this._id;typeof t!="function"&&(t=gr(t));for(var r=this._groups,i=r.length,a=new Array(i),s=0;s<i;++s)for(var o=r[s],u=o.length,c=a[s]=new Array(u),f,l,h=0;h<u;++h)(f=o[h])&&(l=t.call(f,f.__data__,h,o))&&("__data__"in f&&(l.__data__=f.__data__),c[h]=l,be(c[h],n,e,h,c,lt(f,e)));return new Tt(a,this._parents,n,e)}function Jc(t){var n=this._name,e=this._id;typeof t!="function"&&(t=ua(t));for(var r=this._groups,i=r.length,a=[],s=[],o=0;o<i;++o)for(var u=r[o],c=u.length,f,l=0;l<c;++l)if(f=u[l]){for(var h=t.call(f,f.__data__,l,u),d,p=lt(f,e),g=0,m=h.length;g<m;++g)(d=h[g])&&be(d,n,e,g,h,p);a.push(h),s.push(f)}return new Tt(a,s,n,e)}var Kc=Cn.prototype.constructor;function tf(){return new Kc(this._groups,this._parents)}function nf(t,n){var e,r,i;return function(){var a=on(this,t),s=(this.style.removeProperty(t),on(this,t));return a===s?null:a===e&&s===r?i:i=n(e=a,r=s)}}function Oa(t){return function(){this.style.removeProperty(t)}}function ef(t,n,e){var r,i=e+"",a;return function(){var s=on(this,t);return s===i?null:s===r?a:a=n(r=s,e)}}function rf(t,n,e){var r,i,a;return function(){var s=on(this,t),o=e(this),u=o+"";return o==null&&(u=o=(this.style.removeProperty(t),on(this,t))),s===u?null:s===r&&u===i?a:(i=u,a=n(r=s,o))}}function af(t,n){var e,r,i,a="style."+n,s="end."+a,o;return function(){var u=mt(this,t),c=u.on,f=u.value[a]==null?o||(o=Oa(n)):void 0;(c!==e||i!==f)&&(r=(e=c).copy()).on(s,i=f),u.on=r}}function of(t,n,e){var r=(t+="")=="transform"?uc:Da;return n==null?this.styleTween(t,nf(t,r)).on("end.style."+t,Oa(t)):typeof n=="function"?this.styleTween(t,rf(t,r,Nr(this,"style."+t,n))).each(af(this._id,t)):this.styleTween(t,ef(t,r,n),e).on("end.style."+t,null)}function sf(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function uf(t,n,e){var r,i;function a(){var s=n.apply(this,arguments);return s!==i&&(r=(i=s)&&sf(t,s,e)),r}return a._value=n,a}function cf(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,uf(t,n,e??""))}function ff(t){return function(){this.textContent=t}}function lf(t){return function(){var n=t(this);this.textContent=n??""}}function hf(t){return this.tween("text",typeof t=="function"?lf(Nr(this,"text",t)):ff(t==null?"":t+""))}function df(t){return function(n){this.textContent=t.call(this,n)}}function pf(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&df(i)),n}return r._value=t,r}function yf(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,pf(t))}function gf(){for(var t=this._name,n=this._id,e=Ra(),r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],o=s.length,u,c=0;c<o;++c)if(u=s[c]){var f=lt(u,n);be(u,t,e,c,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Tt(r,this._parents,t,e)}function mf(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(a,s){var o={value:s},u={value:function(){--i===0&&a()}};e.each(function(){var c=mt(this,r),f=c.on;f!==t&&(n=(t=f).copy(),n._.cancel.push(o),n._.interrupt.push(o),n._.end.push(u)),c.on=n}),i===0&&a()})}var _f=0;function Tt(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Ra(){return++_f}var Mt=Cn.prototype;Tt.prototype={constructor:Tt,select:Qc,selectAll:Jc,selectChild:Mt.selectChild,selectChildren:Mt.selectChildren,filter:Yc,merge:Wc,selection:tf,transition:gf,call:Mt.call,nodes:Mt.nodes,node:Mt.node,size:Mt.size,empty:Mt.empty,each:Mt.each,on:Xc,attr:Tc,attrTween:Oc,style:of,styleTween:cf,text:hf,textTween:yf,remove:Gc,tween:xc,delay:Ic,duration:Fc,ease:Bc,easeVarying:Hc,end:mf,[Symbol.iterator]:Mt[Symbol.iterator]};function vf(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function Pa(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Ge=4/11,bf=6/11,xf=8/11,wf=3/4,Mf=9/11,$f=10/11,kf=15/16,Nf=21/22,Af=63/64,Rn=1/Ge/Ge;function yi(t){return(t=+t)<Ge?Rn*t*t:t<xf?Rn*(t-=bf)*t+wf:t<$f?Rn*(t-=Mf)*t+kf:Rn*(t-=Nf)*t+Af}function Ia(t){return((t*=2)<=1?1-yi(1-t):yi(t-1)+1)/2}var Tf={time:null,delay:0,duration:250,ease:vf};function Cf(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function Sf(t){var n,e;t instanceof Tt?(n=t._id,t=t._name):(n=Ra(),(e=Tf).time=$r(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],o=s.length,u,c=0;c<o;++c)(u=s[c])&&be(u,t,n,c,s,e||Cf(u,n));return new Tt(r,this._parents,t,n)}Cn.prototype.interrupt=_c;Cn.prototype.transition=Sf;const Qe=Math.PI,Je=2*Qe,Ft=1e-6,Ef=Je-Ft;function Ua(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function Df(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return Ua;const e=10**n;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*e)/e+r[i]}}let Of=class{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?Ua:Df(n)}moveTo(n,e){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,e){this._append`L${this._x1=+n},${this._y1=+e}`}quadraticCurveTo(n,e,r,i){this._append`Q${+n},${+e},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(n,e,r,i,a,s){this._append`C${+n},${+e},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(n,e,r,i,a){if(n=+n,e=+e,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,u=r-n,c=i-e,f=s-n,l=o-e,h=f*f+l*l;if(this._x1===null)this._append`M${this._x1=n},${this._y1=e}`;else if(h>Ft)if(!(Math.abs(l*u-c*f)>Ft)||!a)this._append`L${this._x1=n},${this._y1=e}`;else{let d=r-s,p=i-o,g=u*u+c*c,m=d*d+p*p,_=Math.sqrt(g),M=Math.sqrt(h),b=a*Math.tan((Qe-Math.acos((g+h-m)/(2*_*M)))/2),y=b/M,w=b/_;Math.abs(y-1)>Ft&&this._append`L${n+y*f},${e+y*l}`,this._append`A${a},${a},0,0,${+(l*d>f*p)},${this._x1=n+w*u},${this._y1=e+w*c}`}}arc(n,e,r,i,a,s){if(n=+n,e=+e,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),u=r*Math.sin(i),c=n+o,f=e+u,l=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>Ft||Math.abs(this._y1-f)>Ft)&&this._append`L${c},${f}`,r&&(h<0&&(h=h%Je+Je),h>Ef?this._append`A${r},${r},0,1,${l},${n-o},${e-u}A${r},${r},0,1,${l},${this._x1=c},${this._y1=f}`:h>Ft&&this._append`A${r},${r},0,${+(h>=Qe)},${l},${this._x1=n+r*Math.cos(a)},${this._y1=e+r*Math.sin(a)}`)}rect(n,e,r,i){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};var gi={},Ce={},Se=34,gn=10,Ee=13;function La(t){return new Function("d","return {"+t.map(function(n,e){return JSON.stringify(n)+": d["+e+'] || ""'}).join(",")+"}")}function Rf(t,n){var e=La(t);return function(r,i){return n(e(r),i,t)}}function mi(t){var n=Object.create(null),e=[];return t.forEach(function(r){for(var i in r)i in n||e.push(n[i]=i)}),e}function K(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function Pf(t){return t<0?"-"+K(-t,6):t>9999?"+"+K(t,6):K(t,4)}function If(t){var n=t.getUTCHours(),e=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":Pf(t.getUTCFullYear())+"-"+K(t.getUTCMonth()+1,2)+"-"+K(t.getUTCDate(),2)+(i?"T"+K(n,2)+":"+K(e,2)+":"+K(r,2)+"."+K(i,3)+"Z":r?"T"+K(n,2)+":"+K(e,2)+":"+K(r,2)+"Z":e||n?"T"+K(n,2)+":"+K(e,2)+"Z":"")}function Uf(t){var n=new RegExp('["'+t+`
\r]`),e=t.charCodeAt(0);function r(l,h){var d,p,g=i(l,function(m,_){if(d)return d(m,_-1);p=m,d=h?Rf(m,h):La(m)});return g.columns=p||[],g}function i(l,h){var d=[],p=l.length,g=0,m=0,_,M=p<=0,b=!1;l.charCodeAt(p-1)===gn&&--p,l.charCodeAt(p-1)===Ee&&--p;function y(){if(M)return Ce;if(b)return b=!1,gi;var N,T=g,S;if(l.charCodeAt(T)===Se){for(;g++<p&&l.charCodeAt(g)!==Se||l.charCodeAt(++g)===Se;);return(N=g)>=p?M=!0:(S=l.charCodeAt(g++))===gn?b=!0:S===Ee&&(b=!0,l.charCodeAt(g)===gn&&++g),l.slice(T+1,N-1).replace(/""/g,'"')}for(;g<p;){if((S=l.charCodeAt(N=g++))===gn)b=!0;else if(S===Ee)b=!0,l.charCodeAt(g)===gn&&++g;else if(S!==e)continue;return l.slice(T,N)}return M=!0,l.slice(T,p)}for(;(_=y())!==Ce;){for(var w=[];_!==gi&&_!==Ce;)w.push(_),_=y();h&&(w=h(w,m++))==null||d.push(w)}return d}function a(l,h){return l.map(function(d){return h.map(function(p){return f(d[p])}).join(t)})}function s(l,h){return h==null&&(h=mi(l)),[h.map(f).join(t)].concat(a(l,h)).join(`
`)}function o(l,h){return h==null&&(h=mi(l)),a(l,h).join(`
`)}function u(l){return l.map(c).join(`
`)}function c(l){return l.map(f).join(t)}function f(l){return l==null?"":l instanceof Date?If(l):n.test(l+="")?'"'+l.replace(/"/g,'""')+'"':l}return{parse:r,parseRows:i,format:s,formatBody:o,formatRows:u,formatRow:c,formatValue:f}}var Lf=Uf(","),Ff=Lf.parse;function jf(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Bf(t,n){return fetch(t,n).then(jf)}function qf(t){return function(n,e,r){return arguments.length===2&&typeof e=="function"&&(r=e,e=void 0),Bf(n,e).then(function(i){return t(i,r)})}}var Ar=qf(Ff);function Hf(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function re(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function cn(t){return t=re(Math.abs(t)),t?t[1]:NaN}function Yf(t,n){return function(e,r){for(var i=e.length,a=[],s=0,o=t[0],u=0;i>0&&o>0&&(u+o+1>r&&(o=Math.max(1,r-u)),a.push(e.substring(i-=o,i+o)),!((u+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(n)}}function Wf(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}var Vf=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ie(t){if(!(n=Vf.exec(t)))throw new Error("invalid format: "+t);var n;return new Tr({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}ie.prototype=Tr.prototype;function Tr(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Tr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function zf(t){t:for(var n=t.length,e=1,r=-1,i;e<n;++e)switch(t[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+t[e])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Fa;function Xf(t,n){var e=re(t,n);if(!e)return t+"";var r=e[0],i=e[1],a=i-(Fa=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+re(t,Math.max(0,n+a-1))[0]}function _i(t,n){var e=re(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const vi={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Hf,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>_i(t*100,n),r:_i,s:Xf,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function bi(t){return t}var xi=Array.prototype.map,wi=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Zf(t){var n=t.grouping===void 0||t.thousands===void 0?bi:Yf(xi.call(t.grouping,Number),t.thousands+""),e=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?bi:Wf(xi.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"−":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function c(l){l=ie(l);var h=l.fill,d=l.align,p=l.sign,g=l.symbol,m=l.zero,_=l.width,M=l.comma,b=l.precision,y=l.trim,w=l.type;w==="n"?(M=!0,w="g"):vi[w]||(b===void 0&&(b=12),y=!0,w="g"),(m||h==="0"&&d==="=")&&(m=!0,h="0",d="=");var N=g==="$"?e:g==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",T=g==="$"?r:/[%p]/.test(w)?s:"",S=vi[w],E=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function R(A){var $=N,v=T,C,L,B;if(w==="c")v=S(A)+v,A="";else{A=+A;var F=A<0||1/A<0;if(A=isNaN(A)?u:S(Math.abs(A),b),y&&(A=zf(A)),F&&+A==0&&p!=="+"&&(F=!1),$=(F?p==="("?p:o:p==="-"||p==="("?"":p)+$,v=(w==="s"?wi[8+Fa/3]:"")+v+(F&&p==="("?")":""),E){for(C=-1,L=A.length;++C<L;)if(B=A.charCodeAt(C),48>B||B>57){v=(B===46?i+A.slice(C+1):A.slice(C))+v,A=A.slice(0,C);break}}}M&&!m&&(A=n(A,1/0));var q=$.length+A.length+v.length,j=q<_?new Array(_-q+1).join(h):"";switch(M&&m&&(A=n(j+A,j.length?_-v.length:1/0),j=""),d){case"<":A=$+A+v+j;break;case"=":A=$+j+A+v;break;case"^":A=j.slice(0,q=j.length>>1)+$+A+v+j.slice(q);break;default:A=j+$+A+v;break}return a(A)}return R.toString=function(){return l+""},R}function f(l,h){var d=c((l=ie(l),l.type="f",l)),p=Math.max(-8,Math.min(8,Math.floor(cn(h)/3)))*3,g=Math.pow(10,-p),m=wi[8+p/3];return function(_){return d(g*_)+m}}return{format:c,formatPrefix:f}}var Pn,ja,Ba;Gf({thousands:",",grouping:[3],currency:["$",""]});function Gf(t){return Pn=Zf(t),ja=Pn.format,Ba=Pn.formatPrefix,Pn}function Qf(t){return Math.max(0,-cn(Math.abs(t)))}function Jf(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cn(n)/3)))*3-cn(Math.abs(t)))}function Kf(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,cn(n)-cn(t))+1}function Cr(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}function qa(t,n){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof n=="function"?this.interpolator(n):this.range(n);break}}return this}const Mi=Symbol("implicit");function ae(){var t=new Be,n=[],e=[],r=Mi;function i(a){let s=t.get(a);if(s===void 0){if(r!==Mi)return r;t.set(a,s=n.push(a)-1)}return e[s%e.length]}return i.domain=function(a){if(!arguments.length)return n.slice();n=[],t=new Be;for(const s of a)t.has(s)||t.set(s,n.push(s)-1);return i},i.range=function(a){return arguments.length?(e=Array.from(a),i):e.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return ae(n,e).unknown(r)},Cr.apply(i,arguments),i}function Sr(){var t=ae().unknown(void 0),n=t.domain,e=t.range,r=0,i=1,a,s,o=!1,u=0,c=0,f=.5;delete t.unknown;function l(){var h=n().length,d=i<r,p=d?i:r,g=d?r:i;a=(g-p)/Math.max(1,h-u+c*2),o&&(a=Math.floor(a)),p+=(g-p-a*(h-u))*f,s=a*(1-u),o&&(p=Math.round(p),s=Math.round(s));var m=Wo(h).map(function(_){return p+a*_});return e(d?m.reverse():m)}return t.domain=function(h){return arguments.length?(n(h),l()):n()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,l()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,l()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(h){return arguments.length?(o=!!h,l()):o},t.padding=function(h){return arguments.length?(u=Math.min(1,c=+h),l()):u},t.paddingInner=function(h){return arguments.length?(u=Math.min(1,h),l()):u},t.paddingOuter=function(h){return arguments.length?(c=+h,l()):c},t.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),l()):f},t.copy=function(){return Sr(n(),[r,i]).round(o).paddingInner(u).paddingOuter(c).align(f)},Cr.apply(l(),arguments)}function tl(t){return function(){return t}}function nl(t){return+t}var $i=[0,1];function at(t){return t}function Ke(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:tl(isNaN(n)?NaN:.5)}function el(t,n){var e;return t>n&&(e=t,t=n,n=e),function(r){return Math.max(t,Math.min(n,r))}}function rl(t,n,e){var r=t[0],i=t[1],a=n[0],s=n[1];return i<r?(r=Ke(i,r),a=e(s,a)):(r=Ke(r,i),a=e(a,s)),function(o){return a(r(o))}}function il(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++s<r;)i[s]=Ke(t[s],t[s+1]),a[s]=e(n[s],n[s+1]);return function(o){var u=Oo(t,o,1,r)-1;return a[u](i[u](o))}}function al(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ol(){var t=$i,n=$i,e=Sn,r,i,a,s=at,o,u,c;function f(){var h=Math.min(t.length,n.length);return s!==at&&(s=el(t[0],t[h-1])),o=h>2?il:rl,u=c=null,l}function l(h){return h==null||isNaN(h=+h)?a:(u||(u=o(t.map(r),n,e)))(r(s(h)))}return l.invert=function(h){return s(i((c||(c=o(n,t.map(r),ct)))(h)))},l.domain=function(h){return arguments.length?(t=Array.from(h,nl),f()):t.slice()},l.range=function(h){return arguments.length?(n=Array.from(h),f()):n.slice()},l.rangeRound=function(h){return n=Array.from(h),e=Ma,f()},l.clamp=function(h){return arguments.length?(s=h?!0:at,f()):s!==at},l.interpolate=function(h){return arguments.length?(e=h,f()):e},l.unknown=function(h){return arguments.length?(a=h,l):a},function(h,d){return r=h,i=d,f()}}function sl(){return ol()(at,at)}function ul(t,n,e,r){var i=Ho(t,n,e),a;switch(r=ie(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(n));return r.precision==null&&!isNaN(a=Jf(i,s))&&(r.precision=a),Ba(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Kf(i,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Qf(i))&&(r.precision=a-(r.type==="%")*2);break}}return ja(r)}function Er(t){var n=t.domain;return t.ticks=function(e){var r=n();return qo(r[0],r[r.length-1],e??10)},t.tickFormat=function(e,r){var i=n();return ul(i[0],i[i.length-1],e??10,r)},t.nice=function(e){e==null&&(e=10);var r=n(),i=0,a=r.length-1,s=r[i],o=r[a],u,c,f=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);f-- >0;){if(c=qe(s,o,e),c===u)return r[i]=s,r[a]=o,n(r);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;u=c}return t},t}function Dr(){var t=sl();return t.copy=function(){return al(t,Dr())},Cr.apply(t,arguments),Er(t)}function ki(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function cl(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function fl(t){return t<0?-t*t:t*t}function ll(t){var n=t(at,at),e=1;function r(){return e===1?t(at,at):e===.5?t(cl,fl):t(ki(e),ki(1/e))}return n.exponent=function(i){return arguments.length?(e=+i,r()):e},Er(n)}const De=new Date,Oe=new Date;function _t(t,n,e,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),n(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(n(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const u=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return u;let c;do u.push(c=new Date(+a)),n(a,o),t(a);while(c<a&&a<s);return u},i.filter=a=>_t(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;n(s,-1),!a(s););else for(;--o>=0;)for(;n(s,1),!a(s););}),e&&(i.count=(a,s)=>(De.setTime(+a),Oe.setTime(+s),t(De),t(Oe),Math.floor(e(De,Oe))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const hl=1e3,Or=hl*60,dl=Or*60,An=dl*24,Ha=An*7,Rr=_t(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Or)/An,t=>t.getDate()-1);Rr.range;const Pr=_t(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/An,t=>t.getUTCDate()-1);Pr.range;const pl=_t(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/An,t=>Math.floor(t/An));pl.range;function Qt(t){return _t(n=>{n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},(n,e)=>{n.setDate(n.getDate()+e*7)},(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*Or)/Ha)}const Ya=Qt(0),oe=Qt(1),yl=Qt(2),gl=Qt(3),fn=Qt(4),ml=Qt(5),_l=Qt(6);Ya.range;oe.range;yl.range;gl.range;fn.range;ml.range;_l.range;function Jt(t){return _t(n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e*7)},(n,e)=>(e-n)/Ha)}const Wa=Jt(0),se=Jt(1),vl=Jt(2),bl=Jt(3),ln=Jt(4),xl=Jt(5),wl=Jt(6);Wa.range;se.range;vl.range;bl.range;ln.range;xl.range;wl.range;const Xt=_t(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n)},(t,n)=>n.getFullYear()-t.getFullYear(),t=>t.getFullYear());Xt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:_t(n=>{n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e*t)});Xt.range;const Zt=_t(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n)},(t,n)=>n.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Zt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:_t(n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e*t)});Zt.range;function Re(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Pe(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function mn(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}function Ml(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,u=t.shortMonths,c=_n(i),f=vn(i),l=_n(a),h=vn(a),d=_n(s),p=vn(s),g=_n(o),m=vn(o),_=_n(u),M=vn(u),b={a:F,A:q,b:j,B:st,c:null,d:Ei,e:Ei,f:Vl,g:eh,G:ih,H:Hl,I:Yl,j:Wl,L:Va,m:zl,M:Xl,p:ut,q:ht,Q:Ri,s:Pi,S:Zl,u:Gl,U:Ql,V:Jl,w:Kl,W:th,x:null,X:null,y:nh,Y:rh,Z:ah,"%":Oi},y={a:vt,A:G,b:z,B:bt,c:null,d:Di,e:Di,f:ch,g:vh,G:xh,H:oh,I:sh,j:uh,L:Xa,m:fh,M:lh,p:xt,q:wt,Q:Ri,s:Pi,S:hh,u:dh,U:ph,V:yh,w:gh,W:mh,x:null,X:null,y:_h,Y:bh,Z:wh,"%":Oi},w={a:R,A,b:$,B:v,c:C,d:Ci,e:Ci,f:Fl,g:Ti,G:Ai,H:Si,I:Si,j:Pl,L:Ll,m:Rl,M:Il,p:E,q:Ol,Q:Bl,s:ql,S:Ul,u:Tl,U:Cl,V:Sl,w:Al,W:El,x:L,X:B,y:Ti,Y:Ai,Z:Dl,"%":jl};b.x=N(e,b),b.X=N(r,b),b.c=N(n,b),y.x=N(e,y),y.X=N(r,y),y.c=N(n,y);function N(k,D){return function(P){var x=[],Q=-1,U=0,nt=k.length,et,Ut,Xr;for(P instanceof Date||(P=new Date(+P));++Q<nt;)k.charCodeAt(Q)===37&&(x.push(k.slice(U,Q)),(Ut=Ni[et=k.charAt(++Q)])!=null?et=k.charAt(++Q):Ut=et==="e"?" ":"0",(Xr=D[et])&&(et=Xr(P,Ut)),x.push(et),U=Q+1);return x.push(k.slice(U,Q)),x.join("")}}function T(k,D){return function(P){var x=mn(1900,void 0,1),Q=S(x,k,P+="",0),U,nt;if(Q!=P.length)return null;if("Q"in x)return new Date(x.Q);if("s"in x)return new Date(x.s*1e3+("L"in x?x.L:0));if(D&&!("Z"in x)&&(x.Z=0),"p"in x&&(x.H=x.H%12+x.p*12),x.m===void 0&&(x.m="q"in x?x.q:0),"V"in x){if(x.V<1||x.V>53)return null;"w"in x||(x.w=1),"Z"in x?(U=Pe(mn(x.y,0,1)),nt=U.getUTCDay(),U=nt>4||nt===0?se.ceil(U):se(U),U=Pr.offset(U,(x.V-1)*7),x.y=U.getUTCFullYear(),x.m=U.getUTCMonth(),x.d=U.getUTCDate()+(x.w+6)%7):(U=Re(mn(x.y,0,1)),nt=U.getDay(),U=nt>4||nt===0?oe.ceil(U):oe(U),U=Rr.offset(U,(x.V-1)*7),x.y=U.getFullYear(),x.m=U.getMonth(),x.d=U.getDate()+(x.w+6)%7)}else("W"in x||"U"in x)&&("w"in x||(x.w="u"in x?x.u%7:"W"in x?1:0),nt="Z"in x?Pe(mn(x.y,0,1)).getUTCDay():Re(mn(x.y,0,1)).getDay(),x.m=0,x.d="W"in x?(x.w+6)%7+x.W*7-(nt+5)%7:x.w+x.U*7-(nt+6)%7);return"Z"in x?(x.H+=x.Z/100|0,x.M+=x.Z%100,Pe(x)):Re(x)}}function S(k,D,P,x){for(var Q=0,U=D.length,nt=P.length,et,Ut;Q<U;){if(x>=nt)return-1;if(et=D.charCodeAt(Q++),et===37){if(et=D.charAt(Q++),Ut=w[et in Ni?D.charAt(Q++):et],!Ut||(x=Ut(k,P,x))<0)return-1}else if(et!=P.charCodeAt(x++))return-1}return x}function E(k,D,P){var x=c.exec(D.slice(P));return x?(k.p=f.get(x[0].toLowerCase()),P+x[0].length):-1}function R(k,D,P){var x=d.exec(D.slice(P));return x?(k.w=p.get(x[0].toLowerCase()),P+x[0].length):-1}function A(k,D,P){var x=l.exec(D.slice(P));return x?(k.w=h.get(x[0].toLowerCase()),P+x[0].length):-1}function $(k,D,P){var x=_.exec(D.slice(P));return x?(k.m=M.get(x[0].toLowerCase()),P+x[0].length):-1}function v(k,D,P){var x=g.exec(D.slice(P));return x?(k.m=m.get(x[0].toLowerCase()),P+x[0].length):-1}function C(k,D,P){return S(k,n,D,P)}function L(k,D,P){return S(k,e,D,P)}function B(k,D,P){return S(k,r,D,P)}function F(k){return s[k.getDay()]}function q(k){return a[k.getDay()]}function j(k){return u[k.getMonth()]}function st(k){return o[k.getMonth()]}function ut(k){return i[+(k.getHours()>=12)]}function ht(k){return 1+~~(k.getMonth()/3)}function vt(k){return s[k.getUTCDay()]}function G(k){return a[k.getUTCDay()]}function z(k){return u[k.getUTCMonth()]}function bt(k){return o[k.getUTCMonth()]}function xt(k){return i[+(k.getUTCHours()>=12)]}function wt(k){return 1+~~(k.getUTCMonth()/3)}return{format:function(k){var D=N(k+="",b);return D.toString=function(){return k},D},parse:function(k){var D=T(k+="",!1);return D.toString=function(){return k},D},utcFormat:function(k){var D=N(k+="",y);return D.toString=function(){return k},D},utcParse:function(k){var D=T(k+="",!0);return D.toString=function(){return k},D}}}var Ni={"-":"",_:" ",0:"0"},H=/^\s*\d+/,$l=/^%/,kl=/[\\^$*+?|[\]().{}]/g;function I(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<e?new Array(e-a+1).join(n)+i:i)}function Nl(t){return t.replace(kl,"\\$&")}function _n(t){return new RegExp("^(?:"+t.map(Nl).join("|")+")","i")}function vn(t){return new Map(t.map((n,e)=>[n.toLowerCase(),e]))}function Al(t,n,e){var r=H.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function Tl(t,n,e){var r=H.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function Cl(t,n,e){var r=H.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function Sl(t,n,e){var r=H.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function El(t,n,e){var r=H.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function Ai(t,n,e){var r=H.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Ti(t,n,e){var r=H.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function Dl(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Ol(t,n,e){var r=H.exec(n.slice(e,e+1));return r?(t.q=r[0]*3-3,e+r[0].length):-1}function Rl(t,n,e){var r=H.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function Ci(t,n,e){var r=H.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function Pl(t,n,e){var r=H.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function Si(t,n,e){var r=H.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function Il(t,n,e){var r=H.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function Ul(t,n,e){var r=H.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function Ll(t,n,e){var r=H.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function Fl(t,n,e){var r=H.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function jl(t,n,e){var r=$l.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function Bl(t,n,e){var r=H.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function ql(t,n,e){var r=H.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function Ei(t,n){return I(t.getDate(),n,2)}function Hl(t,n){return I(t.getHours(),n,2)}function Yl(t,n){return I(t.getHours()%12||12,n,2)}function Wl(t,n){return I(1+Rr.count(Xt(t),t),n,3)}function Va(t,n){return I(t.getMilliseconds(),n,3)}function Vl(t,n){return Va(t,n)+"000"}function zl(t,n){return I(t.getMonth()+1,n,2)}function Xl(t,n){return I(t.getMinutes(),n,2)}function Zl(t,n){return I(t.getSeconds(),n,2)}function Gl(t){var n=t.getDay();return n===0?7:n}function Ql(t,n){return I(Ya.count(Xt(t)-1,t),n,2)}function za(t){var n=t.getDay();return n>=4||n===0?fn(t):fn.ceil(t)}function Jl(t,n){return t=za(t),I(fn.count(Xt(t),t)+(Xt(t).getDay()===4),n,2)}function Kl(t){return t.getDay()}function th(t,n){return I(oe.count(Xt(t)-1,t),n,2)}function nh(t,n){return I(t.getFullYear()%100,n,2)}function eh(t,n){return t=za(t),I(t.getFullYear()%100,n,2)}function rh(t,n){return I(t.getFullYear()%1e4,n,4)}function ih(t,n){var e=t.getDay();return t=e>=4||e===0?fn(t):fn.ceil(t),I(t.getFullYear()%1e4,n,4)}function ah(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+I(n/60|0,"0",2)+I(n%60,"0",2)}function Di(t,n){return I(t.getUTCDate(),n,2)}function oh(t,n){return I(t.getUTCHours(),n,2)}function sh(t,n){return I(t.getUTCHours()%12||12,n,2)}function uh(t,n){return I(1+Pr.count(Zt(t),t),n,3)}function Xa(t,n){return I(t.getUTCMilliseconds(),n,3)}function ch(t,n){return Xa(t,n)+"000"}function fh(t,n){return I(t.getUTCMonth()+1,n,2)}function lh(t,n){return I(t.getUTCMinutes(),n,2)}function hh(t,n){return I(t.getUTCSeconds(),n,2)}function dh(t){var n=t.getUTCDay();return n===0?7:n}function ph(t,n){return I(Wa.count(Zt(t)-1,t),n,2)}function Za(t){var n=t.getUTCDay();return n>=4||n===0?ln(t):ln.ceil(t)}function yh(t,n){return t=Za(t),I(ln.count(Zt(t),t)+(Zt(t).getUTCDay()===4),n,2)}function gh(t){return t.getUTCDay()}function mh(t,n){return I(se.count(Zt(t)-1,t),n,2)}function _h(t,n){return I(t.getUTCFullYear()%100,n,2)}function vh(t,n){return t=Za(t),I(t.getUTCFullYear()%100,n,2)}function bh(t,n){return I(t.getUTCFullYear()%1e4,n,4)}function xh(t,n){var e=t.getUTCDay();return t=e>=4||e===0?ln(t):ln.ceil(t),I(t.getUTCFullYear()%1e4,n,4)}function wh(){return"+0000"}function Oi(){return"%"}function Ri(t){return+t}function Pi(t){return Math.floor(+t/1e3)}var Kt,Ga;Mh({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Mh(t){return Kt=Ml(t),Kt.format,Ga=Kt.parse,Kt.utcFormat,Kt.utcParse,Kt}function Qa(){var t=0,n=1,e,r,i,a,s=at,o=!1,u;function c(l){return l==null||isNaN(l=+l)?u:s(i===0?.5:(l=(a(l)-e)*i,o?Math.max(0,Math.min(1,l)):l))}c.domain=function(l){return arguments.length?([t,n]=l,e=a(t=+t),r=a(n=+n),i=e===r?0:1/(r-e),c):[t,n]},c.clamp=function(l){return arguments.length?(o=!!l,c):o},c.interpolator=function(l){return arguments.length?(s=l,c):s};function f(l){return function(h){var d,p;return arguments.length?([d,p]=h,s=l(d,p),c):[s(0),s(1)]}}return c.range=f(Sn),c.rangeRound=f(Ma),c.unknown=function(l){return arguments.length?(u=l,c):u},function(l){return a=l,e=l(t),r=l(n),i=e===r?0:1/(r-e),c}}function Ja(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function tr(){var t=Er(Qa()(at));return t.copy=function(){return Ja(t,tr())},qa.apply(t,arguments)}function nr(){var t=ll(Qa());return t.copy=function(){return Ja(t,nr()).exponent(t.exponent())},qa.apply(t,arguments)}function Pt(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(r*6,++r*6);return e}const $h=Pt("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),kh=Pt("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Ka=t=>Ju(t[t.length-1]);var Nh=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Pt);const Ah=Ka(Nh);var Th=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Pt);const Ch=Ka(Th);Aa(Dt(-100,.75,.35),Dt(80,1.5,.8));Aa(Dt(260,.75,.35),Dt(80,1.5,.8));var In=Dt();function Sh(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return In.h=360*t-100,In.s=1.5-1.5*n,In.l=.8-.9*n,In+""}function xe(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}xe(Pt("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Eh=xe(Pt("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));xe(Pt("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));xe(Pt("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function X(t){return function(){return t}}const Ii=Math.abs,Y=Math.atan2,Lt=Math.cos,Dh=Math.max,Ie=Math.min,dt=Math.sin,tn=Math.sqrt,J=1e-12,Tn=Math.PI,ue=Tn/2,Vn=2*Tn;function Oh(t){return t>1?0:t<-1?Tn:Math.acos(t)}function Ui(t){return t>=1?ue:t<=-1?-ue:Math.asin(t)}function Rh(t){let n=3;return t.digits=function(e){if(!arguments.length)return n;if(e==null)n=null;else{const r=Math.floor(e);if(!(r>=0))throw new RangeError(`invalid digits: ${e}`);n=r}return t},()=>new Of(n)}function Ph(t){return t.innerRadius}function Ih(t){return t.outerRadius}function Uh(t){return t.startAngle}function Lh(t){return t.endAngle}function Fh(t){return t&&t.padAngle}function jh(t,n,e,r,i,a,s,o){var u=e-t,c=r-n,f=s-i,l=o-a,h=l*u-f*c;if(!(h*h<J))return h=(f*(n-a)-l*(t-i))/h,[t+h*u,n+h*c]}function Un(t,n,e,r,i,a,s){var o=t-e,u=n-r,c=(s?a:-a)/tn(o*o+u*u),f=c*u,l=-c*o,h=t+f,d=n+l,p=e+f,g=r+l,m=(h+p)/2,_=(d+g)/2,M=p-h,b=g-d,y=M*M+b*b,w=i-a,N=h*g-p*d,T=(b<0?-1:1)*tn(Dh(0,w*w*y-N*N)),S=(N*b-M*T)/y,E=(-N*M-b*T)/y,R=(N*b+M*T)/y,A=(-N*M+b*T)/y,$=S-m,v=E-_,C=R-m,L=A-_;return $*$+v*v>C*C+L*L&&(S=R,E=A),{cx:S,cy:E,x01:-f,y01:-l,x11:S*(i/w-1),y11:E*(i/w-1)}}function Bh(){var t=Ph,n=Ih,e=X(0),r=null,i=Uh,a=Lh,s=Fh,o=null,u=Rh(c);function c(){var f,l,h=+t.apply(this,arguments),d=+n.apply(this,arguments),p=i.apply(this,arguments)-ue,g=a.apply(this,arguments)-ue,m=Ii(g-p),_=g>p;if(o||(o=f=u()),d<h&&(l=d,d=h,h=l),!(d>J))o.moveTo(0,0);else if(m>Vn-J)o.moveTo(d*Lt(p),d*dt(p)),o.arc(0,0,d,p,g,!_),h>J&&(o.moveTo(h*Lt(g),h*dt(g)),o.arc(0,0,h,g,p,_));else{var M=p,b=g,y=p,w=g,N=m,T=m,S=s.apply(this,arguments)/2,E=S>J&&(r?+r.apply(this,arguments):tn(h*h+d*d)),R=Ie(Ii(d-h)/2,+e.apply(this,arguments)),A=R,$=R,v,C;if(E>J){var L=Ui(E/h*dt(S)),B=Ui(E/d*dt(S));(N-=L*2)>J?(L*=_?1:-1,y+=L,w-=L):(N=0,y=w=(p+g)/2),(T-=B*2)>J?(B*=_?1:-1,M+=B,b-=B):(T=0,M=b=(p+g)/2)}var F=d*Lt(M),q=d*dt(M),j=h*Lt(w),st=h*dt(w);if(R>J){var ut=d*Lt(b),ht=d*dt(b),vt=h*Lt(y),G=h*dt(y),z;if(m<Tn)if(z=jh(F,q,vt,G,ut,ht,j,st)){var bt=F-z[0],xt=q-z[1],wt=ut-z[0],k=ht-z[1],D=1/dt(Oh((bt*wt+xt*k)/(tn(bt*bt+xt*xt)*tn(wt*wt+k*k)))/2),P=tn(z[0]*z[0]+z[1]*z[1]);A=Ie(R,(h-P)/(D-1)),$=Ie(R,(d-P)/(D+1))}else A=$=0}T>J?$>J?(v=Un(vt,G,F,q,d,$,_),C=Un(ut,ht,j,st,d,$,_),o.moveTo(v.cx+v.x01,v.cy+v.y01),$<R?o.arc(v.cx,v.cy,$,Y(v.y01,v.x01),Y(C.y01,C.x01),!_):(o.arc(v.cx,v.cy,$,Y(v.y01,v.x01),Y(v.y11,v.x11),!_),o.arc(0,0,d,Y(v.cy+v.y11,v.cx+v.x11),Y(C.cy+C.y11,C.cx+C.x11),!_),o.arc(C.cx,C.cy,$,Y(C.y11,C.x11),Y(C.y01,C.x01),!_))):(o.moveTo(F,q),o.arc(0,0,d,M,b,!_)):o.moveTo(F,q),!(h>J)||!(N>J)?o.lineTo(j,st):A>J?(v=Un(j,st,ut,ht,h,-A,_),C=Un(F,q,vt,G,h,-A,_),o.lineTo(v.cx+v.x01,v.cy+v.y01),A<R?o.arc(v.cx,v.cy,A,Y(v.y01,v.x01),Y(C.y01,C.x01),!_):(o.arc(v.cx,v.cy,A,Y(v.y01,v.x01),Y(v.y11,v.x11),!_),o.arc(0,0,h,Y(v.cy+v.y11,v.cx+v.x11),Y(C.cy+C.y11,C.cx+C.x11),_),o.arc(C.cx,C.cy,A,Y(C.y11,C.x11),Y(C.y01,C.x01),!_))):o.arc(0,0,h,w,y,_)}if(o.closePath(),f)return o=null,f+""||null}return c.centroid=function(){var f=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,l=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-Tn/2;return[Lt(l)*f,dt(l)*f]},c.innerRadius=function(f){return arguments.length?(t=typeof f=="function"?f:X(+f),c):t},c.outerRadius=function(f){return arguments.length?(n=typeof f=="function"?f:X(+f),c):n},c.cornerRadius=function(f){return arguments.length?(e=typeof f=="function"?f:X(+f),c):e},c.padRadius=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:X(+f),c):r},c.startAngle=function(f){return arguments.length?(i=typeof f=="function"?f:X(+f),c):i},c.endAngle=function(f){return arguments.length?(a=typeof f=="function"?f:X(+f),c):a},c.padAngle=function(f){return arguments.length?(s=typeof f=="function"?f:X(+f),c):s},c.context=function(f){return arguments.length?(o=f??null,c):o},c}function qh(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Hh(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function Yh(t){return t}function Wh(){var t=Yh,n=Hh,e=null,r=X(0),i=X(Vn),a=X(0);function s(o){var u,c=(o=qh(o)).length,f,l,h=0,d=new Array(c),p=new Array(c),g=+r.apply(this,arguments),m=Math.min(Vn,Math.max(-Vn,i.apply(this,arguments)-g)),_,M=Math.min(Math.abs(m)/c,a.apply(this,arguments)),b=M*(m<0?-1:1),y;for(u=0;u<c;++u)(y=p[d[u]=u]=+t(o[u],u,o))>0&&(h+=y);for(n!=null?d.sort(function(w,N){return n(p[w],p[N])}):e!=null&&d.sort(function(w,N){return e(o[w],o[N])}),u=0,l=h?(m-c*b)/h:0;u<c;++u,g=_)f=d[u],y=p[f],_=g+(y>0?y*l:0)+b,p[f]={data:o[f],index:u,value:y,startAngle:g,endAngle:_,padAngle:M};return p}return s.value=function(o){return arguments.length?(t=typeof o=="function"?o:X(+o),s):t},s.sortValues=function(o){return arguments.length?(n=o,e=null,s):n},s.sort=function(o){return arguments.length?(e=o,n=null,s):e},s.startAngle=function(o){return arguments.length?(r=typeof o=="function"?o:X(+o),s):r},s.endAngle=function(o){return arguments.length?(i=typeof o=="function"?o:X(+o),s):i},s.padAngle=function(o){return arguments.length?(a=typeof o=="function"?o:X(+o),s):a},s}function Mn(t,n,e){this.k=t,this.x=n,this.y=e}Mn.prototype={constructor:Mn,scale:function(t){return t===1?this:new Mn(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new Mn(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Mn.prototype;var nn,zn;const Ir=vr("#chart-2").attr("viewBox","0 0 600 350"),Gt={top:0,right:10,bottom:40,left:250},Vh=+Ir.attr("width")-Gt.left-Gt.right,er=+Ir.attr("height")-Gt.top-Gt.bottom,Ue=Ir.append("g").attr("transform","translate("+Gt.left+","+Gt.top+")"),rr=Dr().rangeRound([0,Vh]),Ln=Sr().rangeRound([er,0]).padding(.1);Ar("games.csv").then(function(t){t.forEach(function(n){n.rating=+n.rating}),t.sort(function(n,e){return pr(n.rating,e.rating)}),nn=t.slice(0,10),rr.domain([4.5,yr(nn,function(n){return n.rating})]),Ln.domain(nn.map(function(n){return n.name})),to(),Ue.selectAll(".bar").data(nn).enter().append("rect").attr("class","bar").attr("y",function(n){return Ln(n.name)}).attr("height",Ln.bandwidth()).attr("fill",function(n,e){return zn(e)}).on("click",function(n,e){zh(e)}),Ue.append("g").attr("transform","translate(0,"+er+")").call(ra(rr)),Ue.append("g").call(ia(Ln)).append("text").attr("x",-Gt.left).attr("y",er/2).attr("dy","0.32em").attr("text-anchor","end").attr("transform","rotate(-90)").text("Rating")}).catch(function(t){console.log(t)});function zh(t){let n;switch(t.id){case"43252":n="https://www.youtube.com/watch?v=UZP1W6D6aZA";break;case"644661":n="https://www.youtube.com/watch?v=isYEhEMpHfk";break;case"257255":n="https://www.youtube.com/watch?v=qy8jmm9kY4A";break;case"10338":n="https://www.youtube.com/watch?v=_6uIFwARWIw";break;case"339958":n="https://www.youtube.com/watch?v=SKpSpvFCZRw";break;case"43050":n="https://www.youtube.com/watch?v=MQ2_2Rik3y4";break;case"662316":n="https://www.youtube.com/watch?v=ZRhJT2nmvA4";break;case"4167":n="https://www.youtube.com/watch?v=PfHxklxMhA4";break;case"840783":n="https://www.youtube.com/watch?v=w8vPZrMFiZ4";break;case"3636":n="https://www.youtube.com/watch?v=WxjeV10H1F0";break;default:n=null}n!=null&&window.open(n,"_blank")}function to(t){t?zn=tr(Eh).domain([-5,nn.length]):zn=tr(Ch).domain([nn.length,-10]),br("#chart-2 .bar").attr("fill",function(n,e){return zn(e)})}function Xh(){br("#chart-2 .bar").transition().duration(1e3).ease(Ia).attr("width",function(t){return rr(t.rating)}).delay(function(t,n){return n*100+500})}var ir;const ar=350,or=350,Zh=Math.min(ar,or)/2,Le=Bh().outerRadius(Zh).innerRadius(100),Gh=Wh().value(function(t){return t.count}).sort(null),sr=vr("#chart-3").attr("width",ar+100).attr("height",or).append("g").attr("transform","translate("+ar/2+","+or/2+")");Ar("games.csv").then(function(t){let n=t.map(function(a){return new Date(a.released).getMonth()+1});n=n.filter(function(a){return!isNaN(a)});const e={};n.forEach(function(a){e[a]=(e[a]||0)+1});const r=[];for(let a in e){let s=new Date(0,a).toLocaleString("en-US",{month:"short"});r.push({month:s,count:e[a]})}no(kt),sr.selectAll("arc").data(Gh(r)).enter().append("g").attr("class","arc").on("mouseover",function(a,s){i.attr("font-weight",700).text(`${s.data.count}`).append("tspan").attr("font-weight",500).text(" games released.")}).on("mouseout",function(){i.text("")});const i=sr.append("text").attr("class","count-text").attr("text-anchor","middle").attr("dominant-baseline","middle").text("")}).catch(function(t){console.log(t)});function no(t){ir=ae(t?$h:kh),br("#chart-3 .arc path").style("fill",function(n){return ir(n.data.month)})}function Qh(){let t=sr.selectAll("#chart-3 .arc");t.append("path").attr("d",Le).style("fill",function(n){return ir(n.data.month)}).transition().duration(1500).ease(Ia).attrTween("d",function(n){let e=Sn(n.startAngle+.1,n.endAngle);return function(r){return n.endAngle=e(r),Le(n)}}),t.append("text").attr("transform",function(n){let e=Le.centroid(n),r=(n.startAngle+n.endAngle)/2;return r=r*(180/Math.PI),"translate("+e[0]+","+e[1]+") rotate("+r+")"}).attr("text-anchor","middle").text(function(n){return n.data.month}).transition().duration(1e3)}var kt=!1;function Jh(){if(kt){document.getElementById("dark-mode-toggle-button").innerText="🌖",document.getElementById("body").classList.remove("dark-body");let t=document.getElementsByClassName("container");Array.prototype.forEach.call(t,function(i){i.classList.remove("dark-container")});let n=document.querySelectorAll(".title, .button");Array.prototype.forEach.call(n,function(i){i.classList.remove("dark-purple")});let e=document.querySelectorAll(".title-text, .bottom-title-text");Array.prototype.forEach.call(e,function(i){i.classList.remove("dark-green")});let r=document.querySelectorAll(".sub-text");Array.prototype.forEach.call(r,function(i){i.classList.remove("dark-green-text")}),kt=!1}else{document.getElementById("dark-mode-toggle-button").innerText="☀️",document.getElementById("body").classList.add("dark-body");let t=document.getElementsByClassName("container");Array.prototype.forEach.call(t,function(i){i.classList.add("dark-container")});let n=document.querySelectorAll(".title, .button");Array.prototype.forEach.call(n,function(i){i.classList.add("dark-purple")});let e=document.querySelectorAll(".title-text, .bottom-title-text");Array.prototype.forEach.call(e,function(i){i.classList.add("dark-green")});let r=document.querySelectorAll(".sub-text");Array.prototype.forEach.call(r,function(i){i.classList.add("dark-green-text")}),kt=!0}zr(kt),to(kt),no(kt)}document.getElementById("dark-mode-toggle-button").addEventListener("click",Jh);var ur="http://www.w3.org/1999/xhtml";const Li={svg:"http://www.w3.org/2000/svg",xhtml:ur,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function eo(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),Li.hasOwnProperty(n)?{space:Li[n],local:t}:t}function Kh(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===ur&&n.documentElement.namespaceURI===ur?n.createElement(t):n.createElementNS(e,t)}}function td(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ro(t){var n=eo(t);return(n.local?td:Kh)(n)}function nd(){}function io(t){return t==null?nd:function(){return this.querySelector(t)}}function ed(t){typeof t!="function"&&(t=io(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],s=a.length,o=r[i]=new Array(s),u,c,f=0;f<s;++f)(u=a[f])&&(c=t.call(u,u.__data__,f,a))&&("__data__"in u&&(c.__data__=u.__data__),o[f]=c);return new ot(r,this._parents)}function rd(){return[]}function id(t){return t==null?rd:function(){return this.querySelectorAll(t)}}function ad(t){typeof t!="function"&&(t=id(t));for(var n=this._groups,e=n.length,r=[],i=[],a=0;a<e;++a)for(var s=n[a],o=s.length,u,c=0;c<o;++c)(u=s[c])&&(r.push(t.call(u,u.__data__,c,s)),i.push(u));return new ot(r,i)}function od(t){return function(){return this.matches(t)}}function sd(t){typeof t!="function"&&(t=od(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],s=a.length,o=r[i]=[],u,c=0;c<s;++c)(u=a[c])&&t.call(u,u.__data__,c,a)&&o.push(u);return new ot(r,this._parents)}function ao(t){return new Array(t.length)}function ud(){return new ot(this._enter||this._groups.map(ao),this._parents)}function ce(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}ce.prototype={constructor:ce,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function cd(t){return function(){return t}}var Fi="$";function fd(t,n,e,r,i,a){for(var s=0,o,u=n.length,c=a.length;s<c;++s)(o=n[s])?(o.__data__=a[s],r[s]=o):e[s]=new ce(t,a[s]);for(;s<u;++s)(o=n[s])&&(i[s]=o)}function ld(t,n,e,r,i,a,s){var o,u,c={},f=n.length,l=a.length,h=new Array(f),d;for(o=0;o<f;++o)(u=n[o])&&(h[o]=d=Fi+s.call(u,u.__data__,o,n),d in c?i[o]=u:c[d]=u);for(o=0;o<l;++o)d=Fi+s.call(t,a[o],o,a),(u=c[d])?(r[o]=u,u.__data__=a[o],c[d]=null):e[o]=new ce(t,a[o]);for(o=0;o<f;++o)(u=n[o])&&c[h[o]]===u&&(i[o]=u)}function hd(t,n){if(!t)return d=new Array(this.size()),c=-1,this.each(function(N){d[++c]=N}),d;var e=n?ld:fd,r=this._parents,i=this._groups;typeof t!="function"&&(t=cd(t));for(var a=i.length,s=new Array(a),o=new Array(a),u=new Array(a),c=0;c<a;++c){var f=r[c],l=i[c],h=l.length,d=t.call(f,f&&f.__data__,c,r),p=d.length,g=o[c]=new Array(p),m=s[c]=new Array(p),_=u[c]=new Array(h);e(f,l,g,m,_,d,n);for(var M=0,b=0,y,w;M<p;++M)if(y=g[M]){for(M>=b&&(b=M+1);!(w=m[b])&&++b<p;);y._next=w||null}}return s=new ot(s,r),s._enter=o,s._exit=u,s}function dd(){return new ot(this._exit||this._groups.map(ao),this._parents)}function pd(t,n,e){var r=this.enter(),i=this,a=this.exit();return r=typeof t=="function"?t(r):r.append(t+""),n!=null&&(i=n(i)),e==null?a.remove():e(a),r&&i?r.merge(i).order():i}function yd(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,a=Math.min(r,i),s=new Array(r),o=0;o<a;++o)for(var u=n[o],c=e[o],f=u.length,l=s[o]=new Array(f),h,d=0;d<f;++d)(h=u[d]||c[d])&&(l[d]=h);for(;o<r;++o)s[o]=n[o];return new ot(s,this._parents)}function gd(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,a=r[i],s;--i>=0;)(s=r[i])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function md(t){t||(t=_d);function n(l,h){return l&&h?t(l.__data__,h.__data__):!l-!h}for(var e=this._groups,r=e.length,i=new Array(r),a=0;a<r;++a){for(var s=e[a],o=s.length,u=i[a]=new Array(o),c,f=0;f<o;++f)(c=s[f])&&(u[f]=c);u.sort(n)}return new ot(i,this._parents).order()}function _d(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function vd(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function bd(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t}function xd(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,a=r.length;i<a;++i){var s=r[i];if(s)return s}return null}function wd(){var t=0;return this.each(function(){++t}),t}function Md(){return!this.node()}function $d(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],a=0,s=i.length,o;a<s;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this}function kd(t){return function(){this.removeAttribute(t)}}function Nd(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ad(t,n){return function(){this.setAttribute(t,n)}}function Td(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Cd(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function Sd(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Ed(t,n){var e=eo(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?Nd:kd:typeof n=="function"?e.local?Sd:Cd:e.local?Td:Ad)(e,n))}function oo(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Dd(t){return function(){this.style.removeProperty(t)}}function Od(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Rd(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function Pd(t,n,e){return arguments.length>1?this.each((n==null?Dd:typeof n=="function"?Rd:Od)(t,n,e??"")):Id(this.node(),t)}function Id(t,n){return t.style.getPropertyValue(n)||oo(t).getComputedStyle(t,null).getPropertyValue(n)}function Ud(t){return function(){delete this[t]}}function Ld(t,n){return function(){this[t]=n}}function Fd(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function jd(t,n){return arguments.length>1?this.each((n==null?Ud:typeof n=="function"?Fd:Ld)(t,n)):this.node()[t]}function so(t){return t.trim().split(/^|\s+/)}function Ur(t){return t.classList||new uo(t)}function uo(t){this._node=t,this._names=so(t.getAttribute("class")||"")}uo.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function co(t,n){for(var e=Ur(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function fo(t,n){for(var e=Ur(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Bd(t){return function(){co(this,t)}}function qd(t){return function(){fo(this,t)}}function Hd(t,n){return function(){(n.apply(this,arguments)?co:fo)(this,t)}}function Yd(t,n){var e=so(t+"");if(arguments.length<2){for(var r=Ur(this.node()),i=-1,a=e.length;++i<a;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?Hd:n?Bd:qd)(e,n))}function Wd(){this.textContent=""}function Vd(t){return function(){this.textContent=t}}function zd(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function Xd(t){return arguments.length?this.each(t==null?Wd:(typeof t=="function"?zd:Vd)(t)):this.node().textContent}function Zd(){this.innerHTML=""}function Gd(t){return function(){this.innerHTML=t}}function Qd(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function Jd(t){return arguments.length?this.each(t==null?Zd:(typeof t=="function"?Qd:Gd)(t)):this.node().innerHTML}function Kd(){this.nextSibling&&this.parentNode.appendChild(this)}function t0(){return this.each(Kd)}function n0(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function e0(){return this.each(n0)}function r0(t){var n=typeof t=="function"?t:ro(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function i0(){return null}function a0(t,n){var e=typeof t=="function"?t:ro(t),r=n==null?i0:typeof n=="function"?n:io(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function o0(){var t=this.parentNode;t&&t.removeChild(this)}function s0(){return this.each(o0)}function u0(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function c0(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}function f0(t){return this.select(t?c0:u0)}function l0(t){return arguments.length?this.property("__data__",t):this.node().__data__}var lo={},O=null;if(typeof document<"u"){var h0=document.documentElement;"onmouseenter"in h0||(lo={mouseenter:"mouseover",mouseleave:"mouseout"})}function d0(t,n,e){return t=ho(t,n,e),function(r){var i=r.relatedTarget;(!i||i!==this&&!(i.compareDocumentPosition(this)&8))&&t.call(this,r)}}function ho(t,n,e){return function(r){var i=O;O=r;try{t.call(this,this.__data__,n,e)}finally{O=i}}}function p0(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function y0(t){return function(){var n=this.__on;if(n){for(var e=0,r=-1,i=n.length,a;e<i;++e)a=n[e],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.capture):n[++r]=a;++r?n.length=r:delete this.__on}}}function g0(t,n,e){var r=lo.hasOwnProperty(t.type)?d0:ho;return function(i,a,s){var o=this.__on,u,c=r(n,a,s);if(o){for(var f=0,l=o.length;f<l;++f)if((u=o[f]).type===t.type&&u.name===t.name){this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=c,u.capture=e),u.value=n;return}}this.addEventListener(t.type,c,e),u={type:t.type,name:t.name,value:n,listener:c,capture:e},o?o.push(u):this.__on=[u]}}function m0(t,n,e){var r=p0(t+""),i,a=r.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var u=0,c=o.length,f;u<c;++u)for(i=0,f=o[u];i<a;++i)if((s=r[i]).type===f.type&&s.name===f.name)return f.value}return}for(o=n?g0:y0,e==null&&(e=!1),i=0;i<a;++i)this.each(o(r[i],n,e));return this}function ji(t,n,e,r){var i=O;t.sourceEvent=O,O=t;try{return n.apply(e,r)}finally{O=i}}function po(t,n,e){var r=oo(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function _0(t,n){return function(){return po(this,t,n)}}function v0(t,n){return function(){return po(this,t,n.apply(this,arguments))}}function b0(t,n){return this.each((typeof n=="function"?v0:_0)(t,n))}var x0=[null];function ot(t,n){this._groups=t,this._parents=n}ot.prototype={constructor:ot,select:ed,selectAll:ad,filter:sd,data:hd,enter:ud,exit:dd,join:pd,merge:yd,order:gd,sort:md,call:vd,nodes:bd,node:xd,size:wd,empty:Md,each:$d,attr:Ed,style:Pd,property:jd,classed:Yd,text:Xd,html:Jd,raise:t0,lower:e0,append:r0,insert:a0,remove:s0,clone:f0,datum:l0,on:m0,dispatch:b0};function Ot(t){return typeof t=="string"?new ot([[document.querySelector(t)]],[document.documentElement]):new ot([[t]],x0)}var w0=0;function Bi(){this._="@"+(++w0).toString(36)}Bi.prototype={constructor:Bi,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};function yo(){for(var t=O,n;n=t.sourceEvent;)t=n;return t}function go(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]}function M0(t){var n=yo();return n.changedTouches&&(n=n.changedTouches[0]),go(t,n)}function $0(t,n,e){arguments.length<3&&(e=n,n=yo().changedTouches);for(var r=0,i=n?n.length:0,a;r<i;++r)if((a=n[r]).identifier===e)return go(t,a);return null}var k0={value:function(){}};function Lr(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e)throw new Error("illegal type: "+r);e[r]=[]}return new Xn(e)}function Xn(t){this._=t}function N0(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}Xn.prototype=Lr.prototype={constructor:Xn,on:function(t,n){var e=this._,r=N0(t+"",e),i,a=-1,s=r.length;if(arguments.length<2){for(;++a<s;)if((i=(t=r[a]).type)&&(i=A0(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++a<s;)if(i=(t=r[a]).type)e[i]=qi(e[i],t.name,n);else if(n==null)for(i in e)e[i]=qi(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Xn(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,a;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(n,e)}};function A0(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function qi(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=k0,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}function Fe(){O.stopImmediatePropagation()}function an(){O.preventDefault(),O.stopImmediatePropagation()}function T0(t){var n=t.document.documentElement,e=Ot(t).on("dragstart.drag",an,!0);"onselectstart"in n?e.on("selectstart.drag",an,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function C0(t,n){var e=t.document.documentElement,r=Ot(t).on("dragstart.drag",null);n&&(r.on("click.drag",an,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function Fn(t){return function(){return t}}function cr(t,n,e,r,i,a,s,o,u,c){this.target=t,this.type=n,this.subject=e,this.identifier=r,this.active=i,this.x=a,this.y=s,this.dx=o,this.dy=u,this._=c}cr.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function S0(){return!O.button}function E0(){return this.parentNode}function D0(t){return t??{x:O.x,y:O.y}}function O0(){return"ontouchstart"in this}function mo(){var t=S0,n=E0,e=D0,r=O0,i={},a=Lr("start","drag","end"),s=0,o,u,c,f,l=0;function h(y){y.on("mousedown.drag",d).filter(r).on("touchstart.drag",m).on("touchmove.drag",_).on("touchend.drag touchcancel.drag",M).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(){if(!(f||!t.apply(this,arguments))){var y=b("mouse",n.apply(this,arguments),M0,this,arguments);y&&(Ot(O.view).on("mousemove.drag",p,!0).on("mouseup.drag",g,!0),T0(O.view),Fe(),c=!1,o=O.clientX,u=O.clientY,y("start"))}}function p(){if(an(),!c){var y=O.clientX-o,w=O.clientY-u;c=y*y+w*w>l}i.mouse("drag")}function g(){Ot(O.view).on("mousemove.drag mouseup.drag",null),C0(O.view,c),an(),i.mouse("end")}function m(){if(t.apply(this,arguments)){var y=O.changedTouches,w=n.apply(this,arguments),N=y.length,T,S;for(T=0;T<N;++T)(S=b(y[T].identifier,w,$0,this,arguments))&&(Fe(),S("start"))}}function _(){var y=O.changedTouches,w=y.length,N,T;for(N=0;N<w;++N)(T=i[y[N].identifier])&&(an(),T("drag"))}function M(){var y=O.changedTouches,w=y.length,N,T;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),N=0;N<w;++N)(T=i[y[N].identifier])&&(Fe(),T("end"))}function b(y,w,N,T,S){var E=N(w,y),R,A,$,v=a.copy();if(ji(new cr(h,"beforestart",R,y,s,E[0],E[1],0,0,v),function(){return(O.subject=R=e.apply(T,S))==null?!1:(A=R.x-E[0]||0,$=R.y-E[1]||0,!0)}))return function C(L){var B=E,F;switch(L){case"start":i[y]=C,F=s++;break;case"end":delete i[y],--s;case"drag":E=N(w,y),F=s;break}ji(new cr(h,L,R,y,F,E[0]+A,E[1]+$,E[0]-B[0],E[1]-B[1],v),v.apply,v,[L,T,S])}}return h.filter=function(y){return arguments.length?(t=typeof y=="function"?y:Fn(!!y),h):t},h.container=function(y){return arguments.length?(n=typeof y=="function"?y:Fn(y),h):n},h.subject=function(y){return arguments.length?(e=typeof y=="function"?y:Fn(y),h):e},h.touchable=function(y){return arguments.length?(r=typeof y=="function"?y:Fn(!!y),h):r},h.on=function(){var y=a.on.apply(a,arguments);return y===a?h:y},h.clickDistance=function(y){return arguments.length?(l=(y=+y)*y,h):Math.sqrt(l)},h}var fr=Math.PI,lr=2*fr,jt=1e-6,R0=lr-jt;function hr(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Fr(){return new hr}hr.prototype=Fr.prototype={constructor:hr,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,a){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var a=this._x1,s=this._y1,o=e-t,u=r-n,c=a-t,f=s-n,l=c*c+f*f;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(l>jt)if(!(Math.abs(f*o-u*c)>jt)||!i)this._+="L"+(this._x1=t)+","+(this._y1=n);else{var h=e-a,d=r-s,p=o*o+u*u,g=h*h+d*d,m=Math.sqrt(p),_=Math.sqrt(l),M=i*Math.tan((fr-Math.acos((p+l-g)/(2*m*_)))/2),b=M/_,y=M/m;Math.abs(b-1)>jt&&(this._+="L"+(t+b*c)+","+(n+b*f)),this._+="A"+i+","+i+",0,0,"+ +(f*h>c*d)+","+(this._x1=t+y*o)+","+(this._y1=n+y*u)}},arc:function(t,n,e,r,i,a){t=+t,n=+n,e=+e,a=!!a;var s=e*Math.cos(r),o=e*Math.sin(r),u=t+s,c=n+o,f=1^a,l=a?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);this._x1===null?this._+="M"+u+","+c:(Math.abs(this._x1-u)>jt||Math.abs(this._y1-c)>jt)&&(this._+="L"+u+","+c),e&&(l<0&&(l=l%lr+lr),l>R0?this._+="A"+e+","+e+",0,1,"+f+","+(t-s)+","+(n-o)+"A"+e+","+e+",0,1,"+f+","+(this._x1=u)+","+(this._y1=c):l>jt&&(this._+="A"+e+","+e+",0,"+ +(l>=fr)+","+f+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};function it(t){return function(){return t}}var W=1e-12,fe=Math.PI,le=fe/2,P0=2*fe;function I0(t){return t.innerRadius}function U0(t){return t.outerRadius}function L0(t){return t.startAngle}function F0(t){return t.endAngle}function j0(t){return t&&t.padAngle}function Hi(t){return t>=1?le:t<=-1?-le:Math.asin(t)}function B0(t,n,e,r,i,a,s,o){var u=e-t,c=r-n,f=s-i,l=o-a,h=(f*(n-a)-l*(t-i))/(l*u-f*c);return[t+h*u,n+h*c]}function jn(t,n,e,r,i,a,s){var o=t-e,u=n-r,c=(s?a:-a)/Math.sqrt(o*o+u*u),f=c*u,l=-c*o,h=t+f,d=n+l,p=e+f,g=r+l,m=(h+p)/2,_=(d+g)/2,M=p-h,b=g-d,y=M*M+b*b,w=i-a,N=h*g-p*d,T=(b<0?-1:1)*Math.sqrt(Math.max(0,w*w*y-N*N)),S=(N*b-M*T)/y,E=(-N*M-b*T)/y,R=(N*b+M*T)/y,A=(-N*M+b*T)/y,$=S-m,v=E-_,C=R-m,L=A-_;return $*$+v*v>C*C+L*L&&(S=R,E=A),{cx:S,cy:E,x01:-f,y01:-l,x11:S*(i/w-1),y11:E*(i/w-1)}}function q0(){var t=I0,n=U0,e=it(0),r=null,i=L0,a=F0,s=j0,o=null;function u(){var c,f,l=+t.apply(this,arguments),h=+n.apply(this,arguments),d=i.apply(this,arguments)-le,p=a.apply(this,arguments)-le,g=Math.abs(p-d),m=p>d;if(o||(o=c=Fr()),h<l&&(f=h,h=l,l=f),!(h>W))o.moveTo(0,0);else if(g>P0-W)o.moveTo(h*Math.cos(d),h*Math.sin(d)),o.arc(0,0,h,d,p,!m),l>W&&(o.moveTo(l*Math.cos(p),l*Math.sin(p)),o.arc(0,0,l,p,d,m));else{var _=d,M=p,b=d,y=p,w=g,N=g,T=s.apply(this,arguments)/2,S=T>W&&(r?+r.apply(this,arguments):Math.sqrt(l*l+h*h)),E=Math.min(Math.abs(h-l)/2,+e.apply(this,arguments)),R=E,A=E,$,v;if(S>W){var C=Hi(S/l*Math.sin(T)),L=Hi(S/h*Math.sin(T));(w-=C*2)>W?(C*=m?1:-1,b+=C,y-=C):(w=0,b=y=(d+p)/2),(N-=L*2)>W?(L*=m?1:-1,_+=L,M-=L):(N=0,_=M=(d+p)/2)}var B=h*Math.cos(_),F=h*Math.sin(_),q=l*Math.cos(y),j=l*Math.sin(y);if(E>W){var st=h*Math.cos(M),ut=h*Math.sin(M),ht=l*Math.cos(b),vt=l*Math.sin(b);if(g<fe){var G=w>W?B0(B,F,ht,vt,st,ut,q,j):[q,j],z=B-G[0],bt=F-G[1],xt=st-G[0],wt=ut-G[1],k=1/Math.sin(Math.acos((z*xt+bt*wt)/(Math.sqrt(z*z+bt*bt)*Math.sqrt(xt*xt+wt*wt)))/2),D=Math.sqrt(G[0]*G[0]+G[1]*G[1]);R=Math.min(E,(l-D)/(k-1)),A=Math.min(E,(h-D)/(k+1))}}N>W?A>W?($=jn(ht,vt,B,F,h,A,m),v=jn(st,ut,q,j,h,A,m),o.moveTo($.cx+$.x01,$.cy+$.y01),A<E?o.arc($.cx,$.cy,A,Math.atan2($.y01,$.x01),Math.atan2(v.y01,v.x01),!m):(o.arc($.cx,$.cy,A,Math.atan2($.y01,$.x01),Math.atan2($.y11,$.x11),!m),o.arc(0,0,h,Math.atan2($.cy+$.y11,$.cx+$.x11),Math.atan2(v.cy+v.y11,v.cx+v.x11),!m),o.arc(v.cx,v.cy,A,Math.atan2(v.y11,v.x11),Math.atan2(v.y01,v.x01),!m))):(o.moveTo(B,F),o.arc(0,0,h,_,M,!m)):o.moveTo(B,F),!(l>W)||!(w>W)?o.lineTo(q,j):R>W?($=jn(q,j,st,ut,l,-R,m),v=jn(B,F,ht,vt,l,-R,m),o.lineTo($.cx+$.x01,$.cy+$.y01),R<E?o.arc($.cx,$.cy,R,Math.atan2($.y01,$.x01),Math.atan2(v.y01,v.x01),!m):(o.arc($.cx,$.cy,R,Math.atan2($.y01,$.x01),Math.atan2($.y11,$.x11),!m),o.arc(0,0,l,Math.atan2($.cy+$.y11,$.cx+$.x11),Math.atan2(v.cy+v.y11,v.cx+v.x11),m),o.arc(v.cx,v.cy,R,Math.atan2(v.y11,v.x11),Math.atan2(v.y01,v.x01),!m))):o.arc(0,0,l,y,b,m)}if(o.closePath(),c)return o=null,c+""||null}return u.centroid=function(){var c=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-fe/2;return[Math.cos(f)*c,Math.sin(f)*c]},u.innerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:it(+c),u):t},u.outerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:it(+c),u):n},u.cornerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:it(+c),u):e},u.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:it(+c),u):r},u.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:it(+c),u):i},u.endAngle=function(c){return arguments.length?(a=typeof c=="function"?c:it(+c),u):a},u.padAngle=function(c){return arguments.length?(s=typeof c=="function"?c:it(+c),u):s},u.context=function(c){return arguments.length?(o=c??null,u):o},u}function _o(t){this._context=t}_o.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}};function vo(t){return new _o(t)}function H0(t){return t[0]}function Y0(t){return t[1]}function W0(){var t=H0,n=Y0,e=it(!0),r=null,i=vo,a=null;function s(o){var u,c=o.length,f,l=!1,h;for(r==null&&(a=i(h=Fr())),u=0;u<=c;++u)!(u<c&&e(f=o[u],u,o))===l&&((l=!l)?a.lineStart():a.lineEnd()),l&&a.point(+t(f,u,o),+n(f,u,o));if(h)return a=null,h+""||null}return s.x=function(o){return arguments.length?(t=typeof o=="function"?o:it(+o),s):t},s.y=function(o){return arguments.length?(n=typeof o=="function"?o:it(+o),s):n},s.defined=function(o){return arguments.length?(e=typeof o=="function"?o:it(!!o),s):e},s.curve=function(o){return arguments.length?(i=o,r!=null&&(a=i(r)),s):i},s.context=function(o){return arguments.length?(o==null?r=a=null:a=i(r=o),s):r},s}function he(){}function Yi(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function jr(t){this._context=t}jr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Yi(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Yi(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function bo(t,n){this._basis=new jr(t),this._beta=n}bo.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r=t[0],i=n[0],a=t[e]-r,s=n[e]-i,o=-1,u;++o<=e;)u=o/e,this._basis.point(this._beta*t[o]+(1-this._beta)*(r+u*a),this._beta*n[o]+(1-this._beta)*(i+u*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};(function t(n){function e(r){return n===1?new jr(r):new bo(r,n)}return e.beta=function(r){return t(+r)},e})(.85);function de(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function Br(t,n){this._context=t,this._k=(1-n)/6}Br.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:de(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:de(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function t(n){function e(r){return new Br(r,n)}return e.tension=function(r){return t(+r)},e})(0);function qr(t,n){this._context=t,this._k=(1-n)/6}qr.prototype={areaStart:he,areaEnd:he,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:de(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function t(n){function e(r){return new qr(r,n)}return e.tension=function(r){return t(+r)},e})(0);function Hr(t,n){this._context=t,this._k=(1-n)/6}Hr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:de(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function t(n){function e(r){return new Hr(r,n)}return e.tension=function(r){return t(+r)},e})(0);function Yr(t,n,e){var r=t._x1,i=t._y1,a=t._x2,s=t._y2;if(t._l01_a>W){var o=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*o-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*o-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>W){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,f=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*c+t._x1*t._l23_2a-n*t._l12_2a)/f,s=(s*c+t._y1*t._l23_2a-e*t._l12_2a)/f}t._context.bezierCurveTo(r,i,a,s,t._x2,t._y2)}function xo(t,n){this._context=t,this._alpha=n}xo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:Yr(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const V0=function t(n){function e(r){return n?new xo(r,n):new Br(r,0)}return e.alpha=function(r){return t(+r)},e}(.5);function wo(t,n){this._context=t,this._alpha=n}wo.prototype={areaStart:he,areaEnd:he,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Yr(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function t(n){function e(r){return n?new wo(r,n):new qr(r,0)}return e.alpha=function(r){return t(+r)},e})(.5);function Mo(t,n){this._context=t,this._alpha=n}Mo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Yr(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function t(n){function e(r){return n?new Mo(r,n):new Hr(r,0)}return e.alpha=function(r){return t(+r)},e})(.5);function Wi(t){return t<0?-1:1}function Vi(t,n,e){var r=t._x1-t._x0,i=n-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(e-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(Wi(a)+Wi(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function zi(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function je(t,n,e){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*n,a-o,s-o*e,a,s)}function dr(t){this._context=t}dr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:je(this,this._t0,zi(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(t=+t,n=+n,!(t===this._x1&&n===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,je(this,zi(this,e=Vi(this,t,n)),e);break;default:je(this,this._t0,e=Vi(this,t,n));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}};Object.create(dr.prototype).point=function(t,n){dr.prototype.point.call(this,n,t)};var z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dn=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},pn=function(){function t(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),tt=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},$t=function t(n,e,r){n===null&&(n=Function.prototype);var i=Object.getOwnPropertyDescriptor(n,e);if(i===void 0){var a=Object.getPrototypeOf(n);return a===null?void 0:t(a,e,r)}else{if("value"in i)return i.value;var s=i.get;return s===void 0?void 0:s.call(r)}},Wr=function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)},Vr=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:t},X0=function(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}else return Array.from(t)},Z0=function(){function t(n){var e=n.x,r=e===void 0?0:e,i=n.y,a=i===void 0?0:i,s=n.nx,o=n.ny,u=n.dy,c=u===void 0?0:u,f=n.dx,l=f===void 0?0:f,h=n.color,d=h===void 0?"grey":h,p=n.data,g=n.type,m=n.subject,_=n.connector,M=n.note,b=n.disable,y=n.id,w=n.className;dn(this,t),this._dx=s!==void 0?s-r:l,this._dy=o!==void 0?o-a:c,this._x=r,this._y=a,this._color=d,this.id=y,this._className=w||"",this._type=g||"",this.data=p,this.note=M||{},this.connector=_||{},this.subject=m||{},this.disable=b||[]}return pn(t,[{key:"updatePosition",value:function(){this.type.setPosition&&(this.type.setPosition(),this.type.subject&&this.type.subject.selectAll(":not(.handle)").nodes().length!==0&&this.type.redrawSubject())}},{key:"clearComponents",value:function(){this.type.clearComponents&&this.type.clearComponents()}},{key:"updateOffset",value:function(){this.type.setOffset&&(this.type.setOffset(),this.type.connector.selectAll(":not(.handle)").nodes().length!==0&&this.type.redrawConnector(),this.type.redrawNote())}},{key:"className",get:function(){return this._className},set:function(e){this._className=e,this.type.setClassName&&this.type.setClassName()}},{key:"type",get:function(){return this._type},set:function(e){this._type=e,this.clearComponents()}},{key:"x",get:function(){return this._x},set:function(e){this._x=e,this.updatePosition()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this.updatePosition()}},{key:"color",get:function(){return this._color},set:function(e){this._color=e,this.updatePosition()}},{key:"dx",get:function(){return this._dx},set:function(e){this._dx=e,this.updateOffset()}},{key:"dy",get:function(){return this._dy},set:function(e){this._dy=e,this.updateOffset()}},{key:"nx",set:function(e){this._dx=e-this._x,this.updateOffset()}},{key:"ny",set:function(e){this._dy=e-this._y,this.updateOffset()}},{key:"offset",get:function(){return{x:this._dx,y:this._dy}},set:function(e){var r=e.x,i=e.y;this._dx=r,this._dy=i,this.updateOffset()}},{key:"position",get:function(){return{x:this._x,y:this._y}},set:function(e){var r=e.x,i=e.y;this._x=r,this._y=i,this.updatePosition()}},{key:"translation",get:function(){return{x:this._x+this._dx,y:this._y+this._dy}}},{key:"json",get:function(){var e={x:this._x,y:this._y,dx:this._dx,dy:this._dy};return this.data&&Object.keys(this.data).length>0&&(e.data=this.data),this.type&&(e.type=this.type),this._className&&(e.className=this._className),Object.keys(this.connector).length>0&&(e.connector=this.connector),Object.keys(this.subject).length>0&&(e.subject=this.subject),Object.keys(this.note).length>0&&(e.note=this.note),e}}]),t}(),G0=function(){function t(n){var e=n.annotations,r=n.accessors,i=n.accessorsInverse;dn(this,t),this.accessors=r,this.accessorsInverse=i,this.annotations=e}return pn(t,[{key:"clearTypes",value:function(e){this.annotations.forEach(function(r){r.type=void 0,r.subject=e&&e.subject||r.subject,r.connector=e&&e.connector||r.connector,r.note=e&&e.note||r.note})}},{key:"setPositionWithAccessors",value:function(){var e=this;this.annotations.forEach(function(r){r.type.setPositionWithAccessors(e.accessors)})}},{key:"editMode",value:function(e){this.annotations.forEach(function(r){r.type&&(r.type.editMode=e,r.type.updateEditMode())})}},{key:"updateDisable",value:function(e){this.annotations.forEach(function(r){r.disable=e,r.type&&e.forEach(function(i){r.type[i]&&(r.type[i].remove&&r.type[i].remove(),r.type[i]=void 0)})})}},{key:"updateTextWrap",value:function(e){this.annotations.forEach(function(r){r.type&&r.type.updateTextWrap&&r.type.updateTextWrap(e)})}},{key:"updateText",value:function(){this.annotations.forEach(function(e){e.type&&e.type.drawText&&e.type.drawText()})}},{key:"updateNotePadding",value:function(e){this.annotations.forEach(function(r){r.type&&(r.type.notePadding=e)})}},{key:"json",get:function(){var e=this;return this.annotations.map(function(r){var i=r.json;return e.accessorsInverse&&r.data&&(i.data={},Object.keys(e.accessorsInverse).forEach(function(a){i.data[a]=e.accessorsInverse[a]({x:r.x,y:r.y})})),i})}},{key:"noteNodes",get:function(){return this.annotations.map(function(e){return tt({},e.type.getNoteBBoxOffset(),{positionX:e.x,positionY:e.y})})}}]),t}(),Q0=function(n){var e=n.cx,r=e===void 0?0:e,i=n.cy,a=i===void 0?0:i;return{move:{x:r,y:a}}},J0=function(n){var e=n.cx,r=e===void 0?0:e,i=n.cy,a=i===void 0?0:i,s=n.r1,o=n.r2,u=n.padding,c={move:{x:r,y:a}};return s!==void 0&&(c.r1={x:r+s/Math.sqrt(2),y:a+s/Math.sqrt(2)}),o!==void 0&&(c.r2={x:r+o/Math.sqrt(2),y:a+o/Math.sqrt(2)}),u!==void 0&&(c.padding={x:r+s+u,y:a}),c},K0=function(n){var e=n.group,r=n.handles,i=n.r,a=i===void 0?10:i,s=e.selectAll("circle.handle").data(r);s.enter().append("circle").attr("class","handle").attr("fill","grey").attr("fill-opacity",.1).attr("cursor","move").attr("stroke-dasharray",5).attr("stroke","grey").call(mo().container(Ot("g.annotations").node()).on("start",function(o){return o.start&&o.start(o)}).on("drag",function(o){return o.drag&&o.drag(o)}).on("end",function(o){return o.end&&o.end(o)})),e.selectAll("circle.handle").attr("cx",function(o){return o.x}).attr("cy",function(o){return o.y}).attr("r",function(o){return o.r||a}).attr("class",function(o){return"handle "+(o.className||"")}),s.exit().remove()},$o=function(n,e){return(n==="dynamic"||n==="left"||n==="right")&&(e<0?n="top":n="bottom"),n},ko=function(n,e){return(n==="dynamic"||n==="top"||n==="bottom")&&(e<0?n="right":n="left"),n},tp=["topBottom","top","bottom"],np=["leftRight","left","right"],ep=function(t){var n=t.padding,e=n===void 0?0:n,r=t.bbox,i=r===void 0?{x:0,y:0,width:0,height:0}:r,a=t.align,s=t.orientation,o=t.offset,u=o===void 0?{x:0,y:0}:o,c=-i.x,f=0;return tp.indexOf(s)!==-1?(a=ko(a,u.x),u.y<0&&s==="topBottom"||s==="top"?f-=i.height+e:f+=e,a==="middle"?c-=i.width/2:a==="right"&&(c-=i.width)):np.indexOf(s)!==-1&&(a=$o(a,u.y),u.x<0&&s==="leftRight"||s==="left"?c-=i.width+e:c+=e,a==="middle"?f-=i.height/2:a==="top"&&(f-=i.height)),{x:c,y:f}},gt=function(n){var e=n.data,r=n.curve,i=r===void 0?vo:r,a=n.canvasContext,s=n.className,o=n.classID,u=W0().curve(i),c={type:"path",className:s,classID:o,data:e};return a?(u.context(a),c.pathMethods=u):c.attrs={d:u(e)},c},pe=function(n){var e=n.data,r=n.canvasContext,i=n.className,a=n.classID,s={type:"path",className:i,classID:a,data:e},o=q0().innerRadius(e.innerRadius||0).outerRadius(e.outerRadius||e.radius||2).startAngle(e.startAngle||0).endAngle(e.endAngle||2*Math.PI);return r?(o.context(r),s.pathMethods=lineGen):s.attrs={d:o()},s},rp=function(t){var n=t.align,e=t.x,r=e===void 0?0:e,i=t.y,a=i===void 0?0:i,s=t.bbox,o=t.offset;n=$o(n,o.y),n==="top"?a-=s.height:n==="middle"&&(a-=s.height/2);var u=[[r,a],[r,a+s.height]];return{components:[gt({data:u,className:"note-line"})]}},ip=function(t){var n=t.align,e=t.x,r=e===void 0?0:e,i=t.y,a=i===void 0?0:i,s=t.offset,o=t.bbox;n=ko(n,s.x),n==="right"?r-=o.width:n==="middle"&&(r-=o.width/2);var u=[[r,a],[r+o.width,a]];return{components:[gt({data:u,className:"note-line"})]}},No=function(n){var e=n.type,r=n.subjectType,i=e.annotation,a=i.position,s=i.x-a.x,o=s+i.dx,u=i.y-a.y,c=u+i.dy,f=i.subject;if(r==="circle"&&(f.outerRadius||f.radius)){var l=Math.sqrt((s-o)*(s-o)+(u-c)*(u-c)),h=Math.asin(-c/l),d=f.outerRadius||f.radius+(f.radiusPadding||0);s=Math.abs(Math.cos(h)*d)*(o<0?-1:1),u=Math.abs(Math.sin(h)*d)*(c<0?-1:1)}if(r==="rect"){var p=f.width,g=f.height;(p>0&&i.dx>0||p<0&&i.dx<0)&&(Math.abs(p)>Math.abs(i.dx)?s=p/2:s=p),(g>0&&i.dy>0||g<0&&i.dy<0)&&(Math.abs(g)>Math.abs(i.dy)?u=g/2:u=g),s===p/2&&u===g/2&&(s=o,u=c)}return[[s,u],[o,c]]},ap=function(t){var n=No(t);return{components:[gt({data:n,className:"connector"})]}},op=function(t){var n=t.type,e=t.subjectType,r=n.annotation,i=r.position,a=r.x-i.x,s=a+r.dx,o=r.y-i.y,u=o+r.dy,c=r.subject;if(e==="rect"){var f=c.width,l=c.height;(f>0&&r.dx>0||f<0&&r.dx<0)&&(Math.abs(f)>Math.abs(r.dx)?a=f/2:a=f),(l>0&&r.dy>0||l<0&&r.dy<0)&&(Math.abs(l)>Math.abs(r.dy)?o=l/2:o=l),a===f/2&&o===l/2&&(a=s,o=u)}var h=[[a,o],[s,u]],d=u-o,p=s-a,g=s,m=u,_=u<o&&s>a||s<a&&u>o?-1:1;if(Math.abs(p)<Math.abs(d)?(g=s,m=o+p*_):(m=u,g=a+d*_),e==="circle"&&(c.outerRadius||c.radius)){var M=(c.outerRadius||c.radius)+(c.radiusPadding||0),b=M/Math.sqrt(2);if(Math.abs(p)>b&&Math.abs(d)>b)a=b*(s<0?-1:1),o=b*(u<0?-1:1),h=[[a,o],[g,m],[s,u]];else if(Math.abs(p)>Math.abs(d)){var y=Math.asin(-u/M);a=Math.abs(Math.cos(y)*M)*(s<0?-1:1),h=[[a,u],[s,u]]}else{var w=Math.acos(s/M);o=Math.abs(Math.sin(w)*M)*(u<0?-1:1),h=[[s,o],[s,u]]}}else h=[[a,o],[g,m],[s,u]];return{components:[gt({data:h,className:"connector"})]}},sp=function(t){var n=t.type,e=t.connectorData,r=t.subjectType;e||(e={}),(!e.points||typeof e.points=="number")&&(e.points=up(n.annotation.offset,e.points)),e.curve||(e.curve=V0);var i=[];if(n.editMode){var a=e.points.map(function(c,f){return tt({},Q0({cx:c[0],cy:c[1]}),{index:f})}),s=function(f){e.points[f][0]+=O.dx,e.points[f][1]+=O.dy,n.redrawConnector()};i=n.mapHandles(a.map(function(c){return tt({},c.move,{drag:s.bind(n,c.index)})}))}var o=No({type:n,subjectType:r});o=[o[0]].concat(X0(e.points),[o[1]]);var u=[gt({data:o,curve:e.curve,className:"connector"})];return{components:u,handles:i}},up=function(n){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,r={x:n.x/(e+1),y:n.y/(e+1)},i=[],a=1;a<=e;a++)i.push([r.x*a+a%2*20,r.y*a-a%2*20]);return i},cp=function(t){var n=t.annotation,e=t.start,r=t.end,i=t.scale,a=i===void 0?1:i,s=n.position;e?e=[-r[0]+e[0],-r[1]+e[1]]:e=[n.dx,n.dy],r||(r=[n.x-s.x,n.y-s.y]);var o=r[0],u=r[1],c=e[0],f=e[1],l=10*a,h=16/180*Math.PI,d=Math.atan(f/c);c<0&&(d+=Math.PI);var p=[[o,u],[Math.cos(d+h)*l+o,Math.sin(d+h)*l+u],[Math.cos(d-h)*l+o,Math.sin(d-h)*l+u],[o,u]];return{components:[gt({data:p,className:"connector-end connector-arrow",classID:"connector-end"})]}},fp=function(t){var n=t.line,e=t.scale,r=e===void 0?1:e,i=pe({className:"connector-end connector-dot",classID:"connector-end",data:{radius:3*Math.sqrt(r)}});return i.attrs.transform="translate("+n.data[0][0]+", "+n.data[0][1]+")",{components:[i]}},lp=function(t){var n=t.subjectData,e=t.type;!n.radius&&!n.outerRadius&&(n.radius=20);var r=[],i=pe({data:n,className:"subject"});if(e.editMode){var a=J0({r1:i.data.outerRadius||i.data.radius,r2:i.data.innerRadius,padding:n.radiusPadding}),s=function(c){var f=n[c]+O.dx*Math.sqrt(2);n[c]=f,e.redrawSubject(),e.redrawConnector()},o=[tt({},a.r1,{drag:s.bind(e,n.outerRadius!==void 0?"outerRadius":"radius")})];n.innerRadius&&o.push(tt({},a.r2,{drag:s.bind(e,"innerRadius")})),r=e.mapHandles(o)}return i.attrs["fill-opacity"]=0,{components:[i],handles:r}},hp=function(t){var n=t.subjectData,e=t.type;n.width||(n.width=100),n.height||(n.height=100);var r=[],i=n.width,a=n.height,s=[[0,0],[i,0],[i,a],[0,a],[0,0]],o=gt({data:s,className:"subject"});if(e.editMode){var u=function(){n.width=O.x,e.redrawSubject(),e.redrawConnector()},c=function(){n.height=O.y,e.redrawSubject(),e.redrawConnector()},f=[{x:i,y:a/2,drag:u.bind(e)},{x:i/2,y:a,drag:c.bind(e)}];r=e.mapHandles(f)}return o.attrs["fill-opacity"]=.1,{components:[o],handles:r}},dp=function(t){var n=t.subjectData,e=t.type,r=e.annotation.position,i=(n.x1!==void 0?n.x1:r.x)-r.x,a=(n.x2!==void 0?n.x2:r.x)-r.x,s=(n.y1!==void 0?n.y1:r.y)-r.y,o=(n.y2!==void 0?n.y2:r.y)-r.y,u=[[i,s],[a,o]];return{components:[gt({data:u,className:"subject"})]}},pp=function(t){var n=t.subjectData,e=n===void 0?{}:n,r=t.type,i=r===void 0?{}:r,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.typeSettings&&i.typeSettings.subject;e.radius||(s&&s.radius?e.radius=s.radius:e.radius=14),e.x||s&&s.x&&(e.x=s.x),e.y||s&&s.y&&(e.y=s.y);var o=[],u=[],c=e.radius,f=c*.7,l=0,h=0,d=Math.sqrt(2)*c,p={xleftcorner:-c,xrightcorner:c,ytopcorner:-c,ybottomcorner:c,xleft:-d,xright:d,ytop:-d,ybottom:d};e.x&&!e.y?l=p["x"+e.x]:e.y&&!e.x?h=p["y"+e.y]:e.x&&e.y&&(l=p["x"+e.x+"corner"],h=p["y"+e.y+"corner"]);var g="translate("+l+", "+h+")",m=pe({className:"subject",data:{radius:c}});m.attrs.transform=g,m.attrs.fill=a.color,m.attrs["stroke-linecap"]="round",m.attrs["stroke-width"]="3px";var _=pe({className:"subject-ring",data:{outerRadius:c,innerRadius:f}});_.attrs.transform=g,_.attrs["stroke-width"]="3px",_.attrs.fill="white";var M=void 0;if(l&&h||!l&&!h)M=gt({className:"subject-pointer",data:[[0,0],[l||0,0],[0,h||0],[0,0]]});else if(l||h){var b=function(S){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return S&&S/Math.sqrt(2)/Math.sqrt(2)||E*c/Math.sqrt(2)};M=gt({className:"subject-pointer",data:[[0,0],[b(l),b(h)],[b(l,-1),b(h,-1)],[0,0]]})}if(M&&(M.attrs.fill=a.color,M.attrs["stroke-linecap"]="round",M.attrs["stroke-width"]="3px",u.push(M)),i.editMode){var y=function(){e.x=O.x<-c*2?"left":O.x>c*2?"right":void 0,e.y=O.y<-c*2?"top":O.y>c*2?"bottom":void 0,i.redrawSubject()},w={x:l*2,y:h*2,drag:y.bind(i)};!w.x&&!w.y&&(w.y=-c),o=i.mapHandles([w])}var N=void 0;return e.text&&(N={type:"text",className:"badge-text",attrs:{fill:"white",stroke:"none","font-size":".7em",text:e.text,"text-anchor":"middle",dy:".25em",x:l,y:h}}),u.push(m),u.push(_),u.push(N),{components:u,handles:o}},Ao=function(){function t(n){var e=n.a,r=n.annotation,i=n.editMode,a=n.dispatcher,s=n.notePadding,o=n.accessors;if(dn(this,t),this.a=e,this.note=r.disable.indexOf("note")===-1&&e.select("g.annotation-note"),this.noteContent=this.note&&e.select("g.annotation-note-content"),this.connector=r.disable.indexOf("connector")===-1&&e.select("g.annotation-connector"),this.subject=r.disable.indexOf("subject")===-1&&e.select("g.annotation-subject"),this.dispatcher=a,a){var u=gp.bind(null,a,r);u({component:this.note,name:"note"}),u({component:this.connector,name:"connector"}),u({component:this.subject,name:"subject"})}this.annotation=r,this.editMode=r.editMode||i,this.notePadding=s!==void 0?s:3,this.offsetCornerX=0,this.offsetCornerY=0,o&&r.data&&this.init(o)}return pn(t,[{key:"init",value:function(e){this.annotation.x||this.mapX(e),this.annotation.y||this.mapY(e)}},{key:"mapY",value:function(e){e.y&&(this.annotation.y=e.y(this.annotation.data))}},{key:"mapX",value:function(e){e.x&&(this.annotation.x=e.x(this.annotation.data))}},{key:"updateEditMode",value:function(){this.a.selectAll("circle.handle").remove()}},{key:"drawOnSVG",value:function(e,r){var i=this;Array.isArray(r)||(r=[r]),r.filter(function(a){return a}).forEach(function(a){var s=a.type,o=a.className,u=a.attrs,c=a.handles,f=a.classID;if(s==="handle")K0({group:e,r:u&&u.r,handles:c});else{pt(e,[i.annotation],s,o,f);for(var l=e.select(s+"."+(f||o)),h=Object.keys(u),d=[],p=l.node().attributes,g=p.length-1;g>=0;g--){var m=p[g].name;h.indexOf(m)===-1&&m!=="class"&&d.push(m)}h.forEach(function(_){_==="text"?l.text(u[_]):l.attr(_,u[_])}),d.forEach(function(_){return l.attr(_,null)})}})}},{key:"getNoteBBox",value:function(){return Gi(this.note,".annotation-note-content text")}},{key:"getNoteBBoxOffset",value:function(){var e=Gi(this.note,".annotation-note-content"),r=this.noteContent.attr("transform").split(/\(|\,|\)/g);return e.offsetCornerX=parseFloat(r[1])+this.annotation.dx,e.offsetCornerY=parseFloat(r[2])+this.annotation.dy,e.offsetX=this.annotation.dx,e.offsetY=this.annotation.dy,e}},{key:"drawSubject",value:function(){var e=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=this.annotation.subject,a=r.type,s={type:this,subjectData:i},o={};a==="circle"?o=lp(s):a==="rect"?o=hp(s):a==="threshold"?o=dp(s):a==="badge"&&(o=pp(s,this.annotation));var u=o,c=u.components,f=c===void 0?[]:c,l=u.handles,h=l===void 0?[]:l;return f.forEach(function(d){d&&d.attrs&&!d.attrs.stroke&&(d.attrs.stroke=e.annotation.color)}),this.editMode&&(h=h.concat(this.mapHandles([{drag:this.dragSubject.bind(this)}])),f.push({type:"handle",handles:h})),f}},{key:"drawConnector",value:function(){var e=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=this.annotation.connector,a=i.type||r.type,s={type:this,connectorData:i};s.subjectType=this.typeSettings&&this.typeSettings.subject&&this.typeSettings.subject.type;var o={};a==="curve"?o=sp(s):a==="elbow"?o=op(s):o=ap(s);var u=o,c=u.components,f=c===void 0?[]:c,l=u.handles,h=l===void 0?[]:l,d=f[0];d&&(d.attrs.stroke=this.annotation.color,d.attrs.fill="none");var p=i.end||r.end,g={};if(p==="arrow"){var m=d.data[1],_=d.data[0],M=Math.sqrt(Math.pow(m[0]-_[0],2)+Math.pow(m[1]-_[1],2));M<5&&d.data[2]&&(m=d.data[2]),g=cp({annotation:this.annotation,start:m,end:_,scale:i.endScale})}else p==="dot"?g=fp({line:d,scale:i.endScale}):(!p||p==="none")&&this.connector&&this.connector.select(".connector-end").remove();return g.components&&(g.components.forEach(function(b){b.attrs.fill=e.annotation.color,b.attrs.stroke=e.annotation.color}),f=f.concat(g.components)),this.editMode&&h.length!==0&&f.push({type:"handle",handles:h}),f}},{key:"drawNote",value:function(){var e=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=this.annotation.note,a=i.align||r.align||"dynamic",s={bbox:r.bbox,align:a,offset:this.annotation.offset},o=i.lineType||r.lineType,u={};o==="vertical"?u=rp(s):o==="horizontal"&&(u=ip(s));var c=u,f=c.components,l=f===void 0?[]:f,h=c.handles,d=h===void 0?[]:h;if(l.forEach(function(_){_.attrs.stroke=e.annotation.color}),this.editMode){d=this.mapHandles([{x:0,y:0,drag:this.dragNote.bind(this)}]),l.push({type:"handle",handles:d});var p=this.dragNote.bind(this),g=this.dragstarted.bind(this),m=this.dragended.bind(this);this.note.call(mo().container(Ot("g.annotations").node()).on("start",function(_){return g(_)}).on("drag",function(_){return p(_)}).on("end",function(_){return m(_)}))}else this.note.on("mousedown.drag",null);return l}},{key:"drawNoteContent",value:function(e){var r=this.annotation.note,i=r.padding!==void 0?r.padding:this.notePadding,a=r.orientation||e.orientation||"topBottom",s=r.lineType||e.lineType,o=r.align||e.align||"dynamic";s==="vertical"?a="leftRight":s==="horizontal"&&(a="topBottom");var u={padding:i,bbox:e.bbox,offset:this.annotation.offset,orientation:a,align:o},c=ep(u),f=c.x,l=c.y;return this.offsetCornerX=f+this.annotation.dx,this.offsetCornerY=l+this.annotation.dy,this.note&&this.noteContent.attr("transform","translate("+f+", "+l+")"),[]}},{key:"drawOnScreen",value:function(e,r){return this.drawOnSVG(e,r)}},{key:"redrawSubject",value:function(){this.subject&&this.drawOnScreen(this.subject,this.drawSubject())}},{key:"redrawConnector",value:function(){this.connector&&this.drawOnScreen(this.connector,this.drawConnector())}},{key:"redrawNote",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getNoteBBox();this.noteContent&&this.drawOnScreen(this.noteContent,this.drawNoteContent({bbox:e})),this.note&&this.drawOnScreen(this.note,this.drawNote({bbox:e}))}},{key:"setPosition",value:function(){var e=this.annotation.position;this.a.attr("transform","translate("+e.x+", "+e.y+")")}},{key:"clearComponents",value:function(){this.subject&&this.subject.select("*").remove(),this.connector&&this.connector.select("*").remove()}},{key:"setOffset",value:function(){if(this.note){var e=this.annotation.offset;this.note.attr("transform","translate("+e.x+", "+e.y+")")}}},{key:"setPositionWithAccessors",value:function(e){e&&this.annotation.data&&(this.mapX(e),this.mapY(e)),this.setPosition()}},{key:"setClassName",value:function(){this.a.attr("class","annotation "+(this.className&&this.className())+" "+(this.editMode?"editable":"")+" "+(this.annotation.className||""))}},{key:"draw",value:function(){this.setClassName(),this.setPosition(),this.setOffset(),this.redrawSubject(),this.redrawConnector(),this.redrawNote()}},{key:"dragstarted",value:function(){O.sourceEvent.stopPropagation(),this.dispatcher&&this.dispatcher.call("dragstart",this.a,this.annotation),this.a.classed("dragging",!0),this.a.selectAll("circle.handle").style("pointer-events","none")}},{key:"dragended",value:function(){this.dispatcher&&this.dispatcher.call("dragend",this.a,this.annotation),this.a.classed("dragging",!1),this.a.selectAll("circle.handle").style("pointer-events","all")}},{key:"dragSubject",value:function(){var e=this.annotation.position;e.x+=O.dx,e.y+=O.dy,this.annotation.position=e}},{key:"dragNote",value:function(){var e=this.annotation.offset;e.x+=O.dx,e.y+=O.dy,this.annotation.offset=e}},{key:"mapHandles",value:function(e){var r=this;return e.map(function(i){return tt({},i,{start:r.dragstarted.bind(r),end:r.dragended.bind(r)})})}}]),t}(),It=function(n,e,r){return function(i){Wr(a,i);function a(s){dn(this,a);var o=Vr(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,s));return o.typeSettings=e,e.disable&&e.disable.forEach(function(u){o[u]&&o[u].remove(),o[u]=void 0,u==="note"&&(o.noteContent=void 0)}),o}return pn(a,[{key:"className",value:function(){return""+(e.className||$t(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"className",this)&&$t(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"className",this).call(this)||"")}},{key:"drawSubject",value:function(o){return this.typeSettings.subject=tt({},e.subject,this.typeSettings.subject),$t(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"drawSubject",this).call(this,tt({},o,this.typeSettings.subject))}},{key:"drawConnector",value:function(o){return this.typeSettings.connector=tt({},e.connector,this.typeSettings.connector),$t(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"drawConnector",this).call(this,tt({},o,e.connector,this.typeSettings.connector))}},{key:"drawNote",value:function(o){return this.typeSettings.note=tt({},e.note,this.typeSettings.note),$t(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"drawNote",this).call(this,tt({},o,e.note,this.typeSettings.note))}},{key:"drawNoteContent",value:function(o){return $t(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"drawNoteContent",this).call(this,tt({},o,e.note,this.typeSettings.note))}}],[{key:"init",value:function(o,u){return $t(a.__proto__||Object.getPrototypeOf(a),"init",this).call(this,o,u),r&&(o=r(o,u)),o}}]),a}(n)},we=function(t){Wr(n,t);function n(e){dn(this,n);var r=Vr(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return r.textWrap=e.textWrap||120,r.drawText(),r}return pn(n,[{key:"updateTextWrap",value:function(r){this.textWrap=r,this.drawText()}},{key:"drawText",value:function(){if(this.note){pt(this.note,[this.annotation],"g","annotation-note-content");var r=this.note.select("g.annotation-note-content");pt(r,[this.annotation],"rect","annotation-note-bg"),pt(r,[this.annotation],"text","annotation-note-label"),pt(r,[this.annotation],"text","annotation-note-title");var i={height:0},a=this.a.select("text.annotation-note-label"),s=this.annotation.note&&this.annotation.note.wrap||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.wrap||this.textWrap,o=this.annotation.note&&this.annotation.note.wrapSplitter||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.wrapSplitter,u=this.annotation.note&&this.annotation.note.bgPadding||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.bgPadding,c={top:0,bottom:0,left:0,right:0};if(typeof u=="number"?c={top:u,bottom:u,left:u,right:u}:u&&(typeof u>"u"?"undefined":z0(u))==="object"&&(c=tt(c,u)),this.annotation.note.title){var f=this.a.select("text.annotation-note-title");f.text(this.annotation.note.title),f.attr("fill",this.annotation.color),f.attr("font-weight","bold"),f.call(Zi,s,o),i=f.node().getBBox()}a.text(this.annotation.note.label).attr("dx","0"),a.call(Zi,s,o),a.attr("y",i.height*1.1||0),a.attr("fill",this.annotation.color);var l=this.getNoteBBox();this.a.select("rect.annotation-note-bg").attr("width",l.width+c.left+c.right).attr("height",l.height+c.top+c.bottom).attr("x",l.x-c.left).attr("y",-c.top).attr("fill","white").attr("fill-opacity",0)}}}]),n}(Ao),Xi=It(we,{className:"label",note:{align:"middle"}}),Me=It(we,{className:"callout",note:{lineType:"horizontal"}});It(Me,{className:"callout elbow",connector:{type:"elbow"}});It(Me,{className:"callout curve",connector:{type:"curve"}});It(Ao,{className:"badge",subject:{type:"badge"},disable:["connector","note"]});It(we,{className:"callout circle",subject:{type:"circle"},note:{lineType:"horizontal"},connector:{type:"elbow"}});It(we,{className:"callout rect",subject:{type:"rect"},note:{lineType:"horizontal"},connector:{type:"elbow"}});var yp=function(t){Wr(n,t);function n(){return dn(this,n),Vr(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return pn(n,[{key:"mapY",value:function(r){$t(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"mapY",this).call(this,r);var i=this.annotation;(i.subject.x1||i.subject.x2)&&i.data&&r.y&&(i.y=r.y(i.data)),(i.subject.x1||i.subject.x2)&&!i.x&&(i.x=i.subject.x1||i.subject.x2)}},{key:"mapX",value:function(r){$t(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"mapX",this).call(this,r);var i=this.annotation;(i.subject.y1||i.subject.y2)&&i.data&&r.x&&(i.x=r.x(i.data)),(i.subject.y1||i.subject.y2)&&!i.y&&(i.y=i.subject.y1||i.subject.y2)}}]),n}(Me);It(yp,{className:"callout xythreshold",subject:{type:"threshold"}});var pt=function(n,e,r,i,a){var s=n.selectAll(r+"."+(a||i)).data(e);return s.enter().append(r).merge(s).attr("class",i),s.exit().remove(),n},gp=function(n,e,r){var i=r.component,a=r.name;i&&i.on("mouseover.annotations",function(){n.call(a+"over",i,e)}).on("mouseout.annotations",function(){return n.call(a+"out",i,e)}).on("click.annotations",function(){return n.call(a+"click",i,e)})},Zi=function(n,e,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1.2;n.each(function(){for(var a=Ot(this),s=a.text().split(r||/[ \t\r\n]+/).reverse().filter(function(f){return f!==""}),o=void 0,u=[],c=a.text(null).append("tspan").attr("x",0).attr("dy",.8+"em");o=s.pop();)u.push(o),c.text(u.join(" ")),c.node().getComputedTextLength()>e&&u.length>1&&(u.pop(),c.text(u.join(" ")),u=[o],c=a.append("tspan").attr("x",0).attr("dy",i+"em").text(o))})},Gi=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:":not(.handle)";return n?n.selectAll(e).nodes().reduce(function(r,i){var a=i.getBBox();r.x=Math.min(r.x,a.x),r.y=Math.min(r.y,a.y),r.width=Math.max(r.width,a.width);var s=i&&i.attributes&&i.attributes.y;return r.height=Math.max(r.height,(s&&parseFloat(s.value)||0)+a.height),r},{x:0,y:0,width:0,height:0}):{x:0,y:0,width:0,height:0}};function mp(){var t=[],n=void 0,e=void 0,r=[],i={},a={},s=!1,o=void 0,u=Me,c=void 0,f=void 0,l=Lr("subjectover","subjectout","subjectclick","connectorover","connectorout","connectorclick","noteover","noteout","noteclick","dragend","dragstart"),h=void 0,d=function(g){h=g,s||g.selectAll("circle.handle").remove();var m=t.map(function(y){return y.type||(y.type=u),y.disable||(y.disable=r),new Z0(y)});n=n||new G0({annotations:m,accessors:i,accessorsInverse:a,ids:o});var _=g.selectAll("g").data([n]);_.enter().append("g").attr("class","annotations");var M=g.select("g.annotations");pt(M,n.annotations,"g","annotation");var b=M.selectAll("g.annotation");b.each(function(y){var w=Ot(this);w.attr("class","annotation"),pt(w,[y],"g","annotation-connector"),pt(w,[y],"g","annotation-subject"),pt(w,[y],"g","annotation-note"),pt(w.select("g.annotation-note"),[y],"g","annotation-note-content"),y.type=y.type.toString()==="[object Object]"?y.type:new y.type({a:w,annotation:y,textWrap:c,notePadding:f,editMode:s,dispatcher:l,accessors:i}),y.type.draw(),y.type.drawText&&y.type.drawText()})};return d.json=function(){return console.log("Annotations JSON was copied to your clipboard. Please note the annotation type is not JSON compatible. It appears in the objects array in the console, but not in the copied JSON.",n.json),window.copy(JSON.stringify(n.json.map(function(p){return delete p.type,p}))),d},d.update=function(){return t&&n&&(t=n.annotations.map(function(p){return p.type.draw(),p})),d},d.updateText=function(){return n&&(n.updateText(c),t=n.annotations),d},d.updatedAccessors=function(){return n.setPositionWithAccessors(),t=n.annotations,d},d.disable=function(p){return arguments.length?(r=p,n&&(n.updateDisable(r),t=n.annotations),d):r},d.textWrap=function(p){return arguments.length?(c=p,n&&(n.updateTextWrap(c),t=n.annotations),d):c},d.notePadding=function(p){return arguments.length?(f=p,n&&(n.updateNotePadding(f),t=n.annotations),d):f},d.type=function(p,g){return arguments.length?(u=p,n&&(n.annotations.map(function(m){m.type.note&&m.type.note.selectAll("*:not(.annotation-note-content)").remove(),m.type.noteContent&&m.type.noteContent.selectAll("*").remove(),m.type.subject&&m.type.subject.selectAll("*").remove(),m.type.connector&&m.type.connector.selectAll("*").remove(),m.type.typeSettings={},m.type=u,m.subject=g&&g.subject||m.subject,m.connector=g&&g.connector||m.connector,m.note=g&&g.note||m.note}),t=n.annotations),d):u},d.annotations=function(p){if(!arguments.length)return n&&n.annotations||t;if(t=p,n&&n.annotations){var g=t.some(function(m){return!m.type||m.type.toString()!=="[object Object]"});g?(n=null,d(h)):n.annotations=t}return d},d.context=function(p){return arguments.length?(e=p,d):e},d.accessors=function(p){return arguments.length?(i=p,d):i},d.accessorsInverse=function(p){return arguments.length?(a=p,d):a},d.ids=function(p){return arguments.length?(o=p,d):o},d.editMode=function(p){return arguments.length?(s=p,h&&h.selectAll("g.annotation").classed("editable",s),n&&(n.editMode(s),t=n.annotations),d):s},d.collection=function(p){return arguments.length?(n=p,d):n},d.on=function(){var p=l.on.apply(l,arguments);return p===l?d:p},d}var Ct,Et,Qi,rt;const $e=vr("#chart-1").attr("viewBox","0 0 1000 300"),Rt={top:40,right:0,bottom:50,left:60},Ji=+$e.attr("width")-Rt.left-Rt.right,At=+$e.attr("height")-Rt.top-Rt.bottom,Nt=$e.append("g").attr("transform","translate("+Rt.left+","+Rt.top+")"),_p=Ga("%Y-%m-%d");Ar("games.csv").then(function(t){t.forEach(function(i){var a;i.released=(a=_p(i.released))==null?void 0:a.getFullYear(),i.rating=+i.rating});const n=Uo(t,i=>Yo(i,a=>a.rating),i=>i.released);n.sort((i,a)=>qt(i[0],a[0])),rt=n.filter(i=>i[0]>=1970&&i[0]<=2022),Ct=Sr().domain(rt.map(i=>i[0])).range([0,Ji]).padding(.2),Et=Dr().domain([0,yr(rt,i=>i[1])]).range([At,0]),Nt.selectAll("rect").data(rt).enter().append("rect").attr("x",i=>Ct(i[0])).attr("y",At).attr("width",Ct.bandwidth()).attr("height",0);const e=[{type:Xi,note:{label:"Seems like a bad time for games..."},x:Ct(rt[40][0]),y:Et(rt[40][1]),dx:-120,dy:-100}],r=mp().type(Xi).annotations(e);zr(kt),Nt.append("g").attr("transform","translate(0,"+At+")").call(ra(Ct).tickValues(rt.map(i=>i[0]))).selectAll("text").attr("transform","rotate(-45)").style("text-anchor","end"),Nt.append("g").call(ia(Et)),Nt.append("g").call(r),Nt.append("text").attr("transform","rotate(-90)").attr("y",-Rt.left).attr("x",-At/2).attr("dy","1em").style("text-anchor","middle").style("font-size","15px").text("Average Rating"),Nt.append("text").attr("transform","translate("+Ji/2+" ,"+(At+Rt.top+10)+")").style("text-anchor","middle").style("font-size","15px").text("Year")}).catch(function(t){console.log(t)});function To(){Nt.selectAll("rect").transition().duration(400).ease(Pa).delay((t,n)=>n*50).attr("y",t=>{const n=Et(t[1]);return isNaN(n)?At:n}).attr("height",t=>{const n=At-Et(t[1]);return isNaN(n)?0:n})}function zr(t){Qi=t?nr(Sh).domain([0,3.838125]):nr(Ah).domain([0,3.838125]),$e.selectAll("#chart-1 rect").style("fill",n=>Qi(n[1]))}function vp(t){switch(t.target.value){case"year":rt.sort((n,e)=>qt(n[0],e[0]));break;case"asc":rt.sort((n,e)=>qt(n[1],e[1]));break;case"desc":rt.sort((n,e)=>pr(n[1],e[1]));break}bp(),To(),zr(kt)}function bp(){Ct.domain(rt.map(t=>t[0])),Et.domain([0,yr(rt,t=>t[1])]),Nt.selectAll("rect").data(rt).transition().duration(400).ease(Pa).attr("x",t=>Ct(t[0])).attr("y",t=>{const n=Et(t[1]);return isNaN(n)?At:n}).attr("width",Ct.bandwidth()).attr("height",t=>{const n=At-Et(t[1]);return isNaN(n)?0:n}),Nt.selectAll(".annotation").remove()}document.getElementById("sort").addEventListener("change",vp);function xp(t){switch(t){case 3:To();break;case 4:Xh();break;case 5:Qh();break}}var St=1;let Bn=document.getElementById("next-button");Bn.addEventListener?Bn.addEventListener("click",Ki,!1):Bn.attachEvent&&Bn.attachEvent("onclick",Ki);let qn=document.getElementById("back-button");qn.addEventListener?qn.addEventListener("click",ta,!1):qn.attachEvent&&qn.attachEvent("onclick",ta);document.getElementById("page-"+(St-1))||(document.getElementById("back-button").disabled=!0);function Ki(){if(document.getElementById("page-"+St).style.display="none",document.getElementById("page-"+ ++St).style.display="",xp(St),document.getElementById("page-"+(St+1)))document.getElementById("back-button").disabled=!1;else{document.getElementById("next-button").disabled=!0;return}}function ta(){if(document.getElementById("page-"+St).style.display="none",document.getElementById("page-"+--St).style.display="",document.getElementById("page-"+(St-1)))document.getElementById("next-button").disabled=!1;else{document.getElementById("back-button").disabled=!0;return}}
